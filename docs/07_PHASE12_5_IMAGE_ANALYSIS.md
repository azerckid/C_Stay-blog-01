# Phase 12.5 메시지 기능 - 스크린샷 기반 상세 분석

**분석일**: 2024년  
**분석 대상**: X(Twitter) 메시지 UI 스크린샷 14개

---

## 📸 스크린샷에서 확인된 주요 UI 요소

### 1. 메시지 목록 화면 (채팅 목록)

**확인된 요소:**
- ✅ 상단 헤더: 프로필 사진(왼쪽), "채팅" 텍스트, 검색바(중앙), 설정 아이콘(오른쪽), 새 메시지 아이콘(오른쪽)
- ✅ 탭: "전체" / "요청" (캡슐형 토글 UI) - 문서에 명시됨
- ✅ 검색바: "검색" 플레이스홀더 - 문서에 명시됨
- ✅ 대화 목록 아이템:
  - 프로필 사진 (원형)
  - 이름 (인증 배지 포함 가능)
  - 유저네임 (@username)
  - 마지막 메시지 미리보기
  - 시간 표시 (상대적, "주" 단위)
  - 읽지 않은 메시지 표시 (파란 점)
  - 🔒 아이콘 (비공개 계정 표시)

**문서 대조:**
- ✅ 대부분 문서에 포함되어 있음
- ⚠️ 읽지 않은 메시지 표시(파란 점)가 명시되지 않음
- ⚠️ 비공개 계정 표시(🔒)가 명시되지 않음

---

### 2. 채팅 화면 (개별 대화)

**확인된 요소:**
- ✅ 헤더: 뒤로가기, 프로필 사진/이름, 설정 아이콘 - 문서에 명시됨
- ✅ 프로필 정보 카드:
  - 큰 프로필 사진 (중앙)
  - 이름 (인증 배지 포함)
  - 유저네임 (@username)
  - 가입일 정보 ("2020년 9월에 가입함")
  - "프로필 보기" 버튼
  - 팔로워 수 정보 (일부 화면)
- ✅ 메시지 영역:
  - 날짜 구분선 ("2023년 7월 5일", "2024년 5월 25일")
  - 메시지 버블: 본인(오른쪽), 상대(왼쪽) - 문서에 명시됨
  - 메시지 시간 표시 ("오후 6:57", "오전 2:04")
  - 시스템 메시지 ("요청을 수락했습니다.")
- ✅ 입력 바:
  - "+" 버튼 (왼쪽)
  - 입력 필드: "복호화된 메시지" 플레이스홀더 - 문서에 명시됨
  - 전송 버튼 (오른쪽, 비행기 아이콘)

**문서 대조:**
- ✅ 대부분 문서에 포함되어 있음
- ⚠️ 날짜 구분선 표시가 명시되지 않음
- ⚠️ 시스템 메시지 표시가 명시되지 않음
- ⚠️ 전송 버튼(비행기 아이콘)이 명시되지 않음
- ⚠️ 프로필 정보 카드의 상세 정보(가입일, 팔로워 수)가 명시되지 않음

---

### 3. 쪽지 요청 화면

**확인된 요소:**
- ✅ 헤더: 뒤로가기, "쪽지 요청" 제목, 설정 아이콘
- ✅ 정보 배너:
  - 설명 텍스트: "내가 팔로우하지 않는 계정으로부터 받은 쪽지 요청은 여기서 볼 수 있습니다..."
  - "자세히 알아보기" 링크
- ✅ 요청 목록:
  - 프로필 사진
  - 이름 (인증 배지 포함)
  - 유저네임 (@username)
  - 날짜 ("8월 6일", "2024년 9월 25일")
  - 메시지 미리보기
  - 읽지 않은 메시지 표시 (파란 점)
  - X 버튼 (요청 삭제/거절)
- ✅ 컨텍스트 메뉴 (길게 누르기):
  - "대화 삭제" (빨간색 아이콘)
  - "차단하기" (빨간색 아이콘)
  - "신고하기" (빨간색 아이콘)
  - "취소" 버튼

**문서 대조:**
- ⚠️ 정보 배너가 명시되지 않음
- ⚠️ 요청 삭제(X 버튼) 기능이 명시되지 않음
- ⚠️ 컨텍스트 메뉴(대화 삭제, 차단, 신고)가 명시되지 않음
- ⚠️ 요청 수락 버튼이 명시되지 않음

---

### 4. 새 쪽지 작성 모달

**확인된 요소:**
- ✅ 헤더: "새 쪽지" 제목, X 버튼(닫기)
- ✅ 검색바: "이름이나 사용자 아이디로 검색하기" 플레이스홀더 - 문서에 명시됨
- ✅ "그룹 만들기" 버튼 - 문서에 명시됨
- ✅ 사용자 목록:
  - 프로필 사진
  - 이름 (인증 배지 포함)
  - 유저네임 (@username)
  - 추가 아이콘 (플래그, 스케일 등)
  - 최근 대화 정보 (일부 사용자, "124주" 등)

**문서 대조:**
- ✅ 대부분 문서에 포함되어 있음
- ⚠️ 최근 대화 정보 표시가 명시되지 않음

---

### 5. 설정 화면

**확인된 요소:**
- ✅ 헤더: 뒤로가기, "설정" 제목
- ✅ "다음 사용자의 쪽지 요청 허용" 섹션:
  - 설명 텍스트
  - 라디오 버튼: "받지 않음" / "인증된 사용자" / "모든 사람" - 문서에 명시됨
  - "자세히 알아보기" 링크
- ✅ "내 구독자의 쪽지 허용" 섹션:
  - 체크박스
  - 설명 텍스트
  - "자세히 알아보기" 링크
- ✅ "저질스러운 쪽지 필터링하기" 섹션:
  - 체크박스 (스팸 필터링) - 문서에 명시됨
  - 상세 설명 텍스트
  - "자세히 알아보기" 링크
- ✅ "암호화된 메시지" 섹션:
  - "비밀번호 변경하기" 버튼 - 문서에 "암호화 설정"으로만 언급됨

**문서 대조:**
- ✅ 대부분 문서에 포함되어 있음
- ⚠️ "내 구독자의 쪽지 허용" 옵션이 명시되지 않음
- ⚠️ "비밀번호 변경하기" 기능이 구체적으로 명시되지 않음

---

### 6. Floating Chat Drawer (우측 사이드바)

**확인된 요소:**
- ✅ "채팅" 섹션 헤더
- ✅ 아이콘들: 설정, 새 메시지, 확장/축소, 드롭다운
- ✅ 검색바
- ✅ 탭: "전체" / "요청"
- ✅ 대화 목록 (축소된 형태)
- ✅ 우측 하단 Floating Action Button (FAB): 새 메시지 작성 버튼

**문서 대조:**
- ✅ Floating Drawer 개념이 문서에 명시됨
- ⚠️ 우측 사이드바 형태의 Drawer가 명시되지 않음 (우측 하단 고정형만 언급)
- ⚠️ FAB 버튼이 명시되지 않음

---

## 🔍 문서 누락 사항 상세 분석

### 높은 우선순위 (반드시 추가 필요)

1. **읽지 않은 메시지 표시**
   - 파란 점 표시
   - 읽지 않은 메시지 개수 배지
   - **추가 위치**: 대화 목록 컴포넌트 섹션

2. **날짜 구분선**
   - 메시지 목록에서 날짜별 그룹핑 표시
   - "2023년 7월 5일" 형식
   - **추가 위치**: 채팅 인터페이스 컴포넌트 섹션

3. **시스템 메시지**
   - "요청을 수락했습니다." 같은 시스템 알림
   - **추가 위치**: 채팅 인터페이스 컴포넌트 섹션

4. **전송 버튼**
   - 입력 바 오른쪽 비행기 아이콘
   - **추가 위치**: 채팅 인터페이스 컴포넌트 섹션

5. **요청 수락/거절 기능**
   - 쪽지 요청 화면에서 수락 버튼
   - X 버튼으로 거절
   - **추가 위치**: 쪽지 요청 UI 섹션

6. **컨텍스트 메뉴 (길게 누르기)**
   - 대화 삭제
   - 사용자 차단
   - 사용자 신고
   - **추가 위치**: 대화 목록 컴포넌트 섹션

7. **정보 배너**
   - 쪽지 요청 화면 상단 설명 텍스트
   - "자세히 알아보기" 링크
   - **추가 위치**: 쪽지 요청 UI 섹션

### 중간 우선순위 (추가 권장)

8. **프로필 정보 카드 상세 정보**
   - 가입일 표시
   - 팔로워 수 표시
   - **추가 위치**: 채팅 인터페이스 컴포넌트 섹션

9. **비공개 계정 표시**
   - 🔒 아이콘 표시
   - **추가 위치**: 대화 목록 컴포넌트 섹션

10. **우측 사이드바 형태의 Drawer**
    - 데스크탑에서 우측 사이드바로 표시
    - 모바일에서 우측 하단 Floating 버튼
    - **추가 위치**: MessageDrawer 컴포넌트 섹션

11. **Floating Action Button (FAB)**
    - 우측 하단 새 메시지 작성 버튼
    - **추가 위치**: MessageDrawer 컴포넌트 섹션

12. **설정 화면 추가 옵션**
    - "내 구독자의 쪽지 허용" 옵션
    - "비밀번호 변경하기" 기능
    - **추가 위치**: 메시지 설정 드로어/페이지 섹션

### 낮은 우선순위 (선택사항)

13. **최근 대화 정보**
    - 새 쪽지 작성 모달에서 최근 대화 시간 표시
    - **추가 위치**: 새 쪽지 작성 모달 섹션

---

## 📝 문서 개선 제안

### 제안 1: 대화 목록 컴포넌트 보완

```markdown
- [ ] **대화 목록 컴포넌트**
  - 탭: "전체" / "요청" (X와 동일한 캡슐형 토글 UI)
  - 검색바: 상단 고정 검색바 ("채팅 검색")
  - 리스트 아이템: 
    - 프로필 사진, 인증 배지, 이름, 유저네임(@)
    - 마지막 메시지, 시간(상대적 표시)
    - 읽지 않은 메시지 표시 (파란 점)
    - 비공개 계정 표시 (🔒 아이콘)
  - 컨텍스트 메뉴 (길게 누르기):
    - 대화 삭제
    - 사용자 차단
    - 사용자 신고
  - **확인 방법**:
    - 대화 목록이 올바르게 표시되는지 확인
    - 읽지 않은 메시지가 파란 점으로 표시되는지 확인
    - 비공개 계정이 🔒 아이콘과 함께 표시되는지 확인
    - 길게 누르기 시 컨텍스트 메뉴가 표시되는지 확인
```

### 제안 2: 채팅 인터페이스 컴포넌트 보완

```markdown
- [ ] **채팅 인터페이스 컴포넌트**
  - **헤더**: 뒤로가기, 상대 프로필 요약, 설정 아이콘
  - **프로필 정보 카드**: 
    - 대화 시작 부분에 표시되는 "프로필 보기" 카드
    - 프로필 사진, 이름, 유저네임, 가입일, 팔로워 수
    - "프로필 보기" 버튼
  - **메시지 버블**: 
    - 날짜별 그룹핑 (날짜 구분선 표시)
    - 본인(오른쪽)/상대(왼쪽) 구분
    - 메시지 시간 표시 ("오후 6:57" 형식)
    - 시스템 메시지 표시 ("요청을 수락했습니다." 등)
  - **입력 바**: 
    - "+" 버튼
    - 텍스트 입력 ("복호화된 메시지" 플레이스홀더)
    - 전송 버튼 (비행기 아이콘)
  - **확인 방법**:
    - 날짜 구분선이 올바르게 표시되는지 확인
    - 시스템 메시지가 중앙에 표시되는지 확인
    - 전송 버튼 클릭 시 메시지가 전송되는지 확인
```

### 제안 3: 쪽지 요청 UI 섹션 추가

```markdown
- [ ] **쪽지 요청 화면**
  - 정보 배너: 요청에 대한 설명 및 "자세히 알아보기" 링크
  - 요청 목록:
    - 프로필 사진, 이름, 유저네임, 날짜
    - 메시지 미리보기
    - 읽지 않은 메시지 표시 (파란 점)
    - X 버튼 (요청 거절)
  - 요청 수락 버튼 (요청 클릭 시)
  - 컨텍스트 메뉴 (길게 누르기):
    - 대화 삭제
    - 사용자 차단
    - 사용자 신고
  - **확인 방법**:
    - 요청 목록이 올바르게 표시되는지 확인
    - X 버튼 클릭 시 요청이 거절되는지 확인
    - 요청 수락 시 대화가 "전체" 탭으로 이동하는지 확인
```

### 제안 4: 메시지 설정 보완

```markdown
- [ ] **메시지 설정 드로어/페이지**
  - "다음 사용자의 쪽지 요청 허용" 라디오 버튼:
    - 받지 않음 / 인증된 사용자 / 모든 사람
    - 설명 텍스트 및 "자세히 알아보기" 링크
  - "내 구독자의 쪽지 허용" 체크박스:
    - 설명 텍스트 및 "자세히 알아보기" 링크
  - "저질스러운 쪽지 필터링하기" 토글 스위치:
    - 상세 설명 텍스트 및 "자세히 알아보기" 링크
  - "암호화된 메시지" 섹션:
    - "비밀번호 변경하기" 버튼
  - **확인 방법**:
    - 각 설정이 올바르게 저장되는지 확인
    - 설정 변경 시 즉시 적용되는지 확인
```

### 제안 5: MessageDrawer 컴포넌트 보완

```markdown
- [ ] **`MessageDrawer` 컴포넌트 (우측 하단 고정형 또는 우측 사이드바)**
  - **데스크탑**: 우측 사이드바 형태로 표시
  - **모바일**: 우측 하단 Floating 버튼
  - **최소화 상태**: 상단바만 노출 ("채팅" 텍스트, 아이콘들)
  - **최대화 상태 (목록)**: 대화방 리스트 및 검색바 표시
  - **최대화 상태 (채팅)**: 특정 대화방 진입 시 개별 채팅 화면 전환
  - **Floating Action Button (FAB)**: 우측 하단 새 메시지 작성 버튼
  - **인터랙션**: 상태 전환 애니메이션 및 '확장/축소' 버튼 동작 구현
  - **확인 방법**:
    - 데스크탑에서 우측 사이드바로 표시되는지 확인
    - 모바일에서 Floating 버튼으로 표시되는지 확인
    - 상태 전환이 부드럽게 이루어지는지 확인
```

---

## ✅ 최종 검토 결과

### 문서 품질: **B (80/100)** → **A- (90/100)** (개선 후)

**현재 상태:**
- 기본 구조와 개념은 잘 작성됨
- 주요 UI 요소 대부분 포함
- 일부 세부 UI 요소 누락

**개선 필요:**
- 읽지 않은 메시지 표시
- 날짜 구분선
- 시스템 메시지
- 전송 버튼
- 요청 수락/거절 UI
- 컨텍스트 메뉴
- 정보 배너
- 확인 방법 추가

**결론:**
스크린샷 분석 결과, 문서는 기본적으로 잘 작성되었으나 위의 누락 사항들을 추가하면 X(Twitter)의 메시지 기능을 더 완벽하게 재현할 수 있습니다.

---

**분석 완료일**: 2024년  
**다음 단계**: 누락 사항을 문서에 반영

