# Implementation Plan

STAYnC 트위터/X 클론 프로젝트의 단계별 구현 계획입니다.

## 진행 상태

- [x] Phase 0: 프로젝트 초기 설정
- [ ] Phase 1: 데이터베이스 및 인프라 설정
- [ ] Phase 2: 인증 시스템 구현
- [ ] Phase 3: 기본 레이아웃 및 UI 구성
- [ ] Phase 4: 트윗 기능 (CRUD)
- [ ] Phase 5: 소셜 기능 (좋아요, 리트윗)
- [ ] Phase 6: 팔로우 시스템 및 피드
- [ ] Phase 7: 댓글/답글 시스템
- [ ] Phase 8: 미디어 업로드 (이미지/동영상)
- [ ] Phase 9: 프로필 및 사용자 기능
- [ ] Phase 10: 검색 기능
- [ ] Phase 11: 고급 기능 (북마크, 알림 등)
- [ ] Phase 12: 모바일 앱 배포 (Capacitor)
- [ ] Phase 13: 테스트 및 최적화

---

## Phase 0: 프로젝트 초기 설정 ✅

### 완료된 작업

- [x] React Router v7 프로젝트 생성
- [x] Tailwind CSS v4 설정
- [x] shadcn/ui (Nova Preset) 설정
- [x] TypeScript 설정
- [x] 프로젝트 문서화 (AGENTS.md, DATABASE_SCHEMA.md)

### 추가 설정 필요

- [ ] Capacitor 설치 및 설정 (모바일 앱 배포용)
  - **확인 방법**:
    - Phase 12에서 상세 확인 방법 참고

---

## Phase 1: 데이터베이스 및 인프라 설정

### 목표
Prisma ORM 설정 및 데이터베이스 스키마 정의

### 작업 항목

- [ ] Prisma 설치 및 초기 설정
  - `npm install prisma @prisma/client`
  - `npx prisma init`
  - `prisma/schema.prisma` 설정 (libSQL provider)
  - **확인 방법**:
    - `package.json`에 `prisma`, `@prisma/client` 패키지가 추가되었는지 확인
    - `prisma/` 디렉토리와 `prisma/schema.prisma` 파일이 생성되었는지 확인
    - `schema.prisma`의 `provider`가 `"libsql"`로 설정되었는지 확인

- [ ] 기존 데이터베이스 스키마 반영
  - `User`, `account`, `session`, `verification` 모델 정의
  - 기존 테이블 구조에 맞춰 Prisma 모델 작성
  - **확인 방법**:
    - `schema.prisma`에 `model User`, `model account`, `model session`, `model verification`이 정의되었는지 확인
    - 기존 테이블 구조와 일치하는지 `docs/DATABASE_SCHEMA.md`와 대조
    - TypeScript 컴파일 오류가 없는지 확인 (`npm run typecheck`)

- [ ] 트위터 클론 필수 테이블 추가
  - `Tweet` 모델 및 마이그레이션 (자기 참조 관계 포함: `parent`/`children` for replies)
  - `Media` 모델 및 마이그레이션 (Tweet과 1:N 관계)
  - `Like` 모델 및 마이그레이션
  - `Retweet` 모델 및 마이그레이션
  - `Follow` 모델 및 마이그레이션
  - `Bookmark` 모델 (선택사항)
  - **확인 방법**:
    - `schema.prisma`에 모든 모델이 정의되었는지 확인
    - `Tweet` 모델이 자기 자신을 참조하는 `replies` 필드를 가지고 있는지 확인
    - `Media` 모델이 `Tweet`과 올바르게 연결되어 있는지 확인
    - 마이그레이션 파일이 `prisma/migrations/`에 생성되었는지 확인
    - `npx prisma migrate dev` 실행 시 오류가 없는지 확인

- [ ] Prisma Client 생성 및 테스트
  - `npx prisma generate`
  - 데이터베이스 연결 확인
  - **확인 방법**:
    - `node_modules/.prisma/client` 디렉토리가 생성되었는지 확인
    - `npx prisma db pull`로 데이터베이스 연결이 정상인지 확인
    - 간단한 쿼리로 Prisma Client가 동작하는지 테스트

- [ ] 환경 변수 설정
  - `.env` 파일에 `DATABASE_URL` 확인
  - Prisma 관련 환경 변수 설정
  - **확인 방법**:
    - `.env` 파일에 `DATABASE_URL`이 올바르게 설정되었는지 확인
    - `.env.example` 파일이 있다면 환경 변수 목록 확인
    - 애플리케이션 시작 시 데이터베이스 연결 오류가 없는지 확인

---

## Phase 2: 인증 시스템 구현

### 목표
Auth.js를 사용한 세션 기반 인증 시스템 구현

### 작업 항목

- [ ] Auth.js 설치 및 설정
  - `npm install @auth/core @auth/prisma-adapter`
  - Auth.js 설정 파일 생성
  - Prisma 어댑터 연결
  - **확인 방법**: 
    - `package.json`에 `@auth/core`, `@auth/prisma-adapter` 패키지가 추가되었는지 확인
    - Auth.js 설정 파일이 생성되었는지 확인 (`app/lib/auth.ts` 등)
    - TypeScript 컴파일 오류가 없는지 확인 (`npm run typecheck`)

- [ ] 로그인 페이지 구현
  - 로그인 폼 UI (이메일, 비밀번호)
  - Zod 스키마로 입력 검증
  - 로그인 action 구현
  - **확인 방법**:
    - 로그인 페이지 라우트가 동작하는지 확인 (`/login`)
    - 로그인 폼이 렌더링되는지 확인
    - 유효하지 않은 입력 시 에러 메시지가 표시되는지 확인
    - 올바른 자격증명으로 로그인 시 세션이 생성되는지 확인
    - 브라우저 개발자 도구에서 쿠키/세션 확인

- [ ] 회원가입 페이지 구현
  - 회원가입 폼 UI (이메일, 비밀번호, 이름)
  - Zod 스키마로 입력 검증
  - 회원가입 action 구현 (비밀번호 해싱)
  - **확인 방법**:
    - 회원가입 페이지 라우트가 동작하는지 확인 (`/signup` 또는 `/register`)
    - 회원가입 폼이 렌더링되는지 확인
    - 유효하지 않은 입력 시 에러 메시지가 표시되는지 확인
    - 회원가입 성공 후 새 사용자가 데이터베이스에 생성되었는지 확인
    - 회원가입 후 자동 로그인 또는 로그인 페이지로 리다이렉트되는지 확인

- [ ] 세션 관리
  - 세션 상태 확인 유틸리티
  - 보호된 라우트 구현
  - 로그아웃 기능
  - **확인 방법**:
    - 비로그인 사용자가 보호된 라우트 접근 시 로그인 페이지로 리다이렉트되는지 확인
    - 로그인한 사용자가 보호된 라우트에 접근할 수 있는지 확인
    - 로그아웃 버튼 클릭 시 세션이 삭제되는지 확인
    - 로그아웃 후 로그인이 필요한 페이지 접근 시 리다이렉트되는지 확인
    - 세션 유틸리티 함수가 올바르게 동작하는지 테스트

- [ ] OAuth 제공자 설정
  - Google OAuth 설정 및 구현
    - 리다이렉트 URL: `http://localhost:5173/auth/google/callback`
  - Kakao OAuth 설정 및 구현
    - 리다이렉트 URL: `http://localhost:5173/auth/kakao/callback`
  - OAuth 로그인 버튼 UI (Google, Kakao)
  - OAuth 콜백 처리
  - **확인 방법**:
    - `.env` 파일에 Google/Kakao OAuth 클라이언트 ID와 시크릿이 설정되었는지 확인
    - OAuth 로그인 버튼이 로그인 페이지에 표시되는지 확인
    - Google 로그인 버튼 클릭 시 Google 로그인 페이지로 리다이렉트되는지 확인
    - Kakao 로그인 버튼 클릭 시 Kakao 로그인 페이지로 리다이렉트되는지 확인
    - OAuth 콜백 후 사용자가 로그인되고 세션이 생성되는지 확인
    - OAuth로 가입한 사용자가 데이터베이스에 올바르게 저장되는지 확인

---

## Phase 3: 기본 레이아웃 및 UI 구성

### 목표
트위터 스타일의 기본 레이아웃 및 네비게이션 구성

### 작업 항목

- [ ] 메인 레이아웃 컴포넌트
  - 사이드바 네비게이션
  - 헤더/상단바
  - 메인 콘텐츠 영역
  - 반응형 디자인
  - **확인 방법**:
    - 메인 레이아웃 컴포넌트가 모든 페이지에서 적용되는지 확인
    - 모바일에서 레이아웃이 올바르게 표시되는지 확인 (브라우저 개발자 도구)
    - 데스크톱에서 3단 레이아웃이 올바르게 표시되는지 확인
    - 사이드바, 헤더, 메인 콘텐츠 영역이 모두 표시되는지 확인
    - 반응형 브레이크포인트에서 레이아웃이 적절히 변경되는지 확인

- [ ] 네비게이션 메뉴
  - 홈, 탐색, 알림, 메시지, 프로필 등 메뉴 아이템
  - 활성 상태 표시
  - 아이콘 통합 (Hugeicons)
  - **확인 방법**:
    - 모든 메뉴 아이템이 사이드바/하단 네비게이션에 표시되는지 확인
    - 메뉴 아이템 클릭 시 해당 페이지로 이동하는지 확인
    - 현재 페이지에 해당하는 메뉴 아이템이 활성 상태(강조)로 표시되는지 확인
    - 아이콘이 올바르게 표시되는지 확인
    - 모바일에서 하단 네비게이션이 표시되는지 확인

- [ ] 트윗 작성 컴포넌트 (기본 UI만)
  - 텍스트 입력 영역
  - 이미지 첨부 버튼 (Phase 8에서 기능 구현)
  - 게시 버튼 (Phase 4에서 기능 구현)
  - **확인 방법**:
    - 트윗 작성 컴포넌트가 홈 피드 상단에 표시되는지 확인
    - 텍스트 입력 영역이 클릭 가능하고 입력이 가능한지 확인
    - 이미지 첨부 버튼이 표시되는지 확인 (기능은 Phase 8에서)
    - 게시 버튼이 표시되는지 확인 (기능은 Phase 4에서)
    - UI가 `docs/UI_DESIGN_SYSTEM.md`의 디자인 가이드라인을 따르는지 확인

- [ ] 트윗 카드 컴포넌트 (기본 UI만)
  - 사용자 아바타, 이름, 아이디
  - 트윗 내용
  - 좋아요, 리트윗, 댓글 버튼 (기능은 이후 단계에서)
  - **확인 방법**:
    - 트윗 카드 컴포넌트가 렌더링되는지 확인
    - 사용자 아바타, 이름, 아이디가 표시되는지 확인
    - 트윗 내용이 표시되는지 확인
    - 좋아요, 리트윗, 댓글 버튼이 표시되는지 확인 (기능은 이후 단계)
    - 여러 트윗 카드가 올바르게 리스트로 표시되는지 확인
    - UI가 `docs/UI_DESIGN_SYSTEM.md`의 디자인 가이드라인을 따르는지 확인

- [ ] 로딩 상태 및 에러 처리
  - 로딩 스피너
  - 에러 메시지 표시
  - 빈 상태 컴포넌트
  - **확인 방법**:
    - 데이터 로딩 중 로딩 스피너가 표시되는지 확인
    - 에러 발생 시 에러 메시지가 표시되는지 확인
    - 데이터가 없을 때 빈 상태 컴포넌트가 표시되는지 확인
    - 네트워크 오류 시 적절한 에러 메시지가 표시되는지 확인
    - 에러 바운더리가 올바르게 동작하는지 확인

---

## Phase 4: 트윗 기능 (CRUD)

### 목표
트윗의 생성, 조회, 수정, 삭제 기능 구현

### 작업 항목

- [ ] 트윗 작성 기능
  - 트윗 작성 action 구현
  - Zod 스키마로 내용 검증
  - 데이터베이스에 저장
  - 성공 후 피드 새로고침
  - **확인 방법**:
    - 트윗 작성 폼에서 내용 입력 후 게시 버튼 클릭
    - 유효하지 않은 입력(너무 긴 텍스트 등) 시 에러 메시지가 표시되는지 확인
    - 트윗 작성 성공 시 데이터베이스에 저장되었는지 확인 (Prisma Studio 또는 쿼리)
    - 트윗 작성 후 피드에 새 트윗이 즉시 표시되는지 확인
    - 로그인하지 않은 사용자는 트윗 작성이 불가능한지 확인

- [ ] 트윗 목록 조회
  - 홈 피드 구현 (loader)
  - 모든 사용자의 트윗 시간순 정렬
  - 페이지네이션 (무한 스크롤 또는 페이지 번호)
  - **확인 방법**:
    - 홈 페이지에 트윗 목록이 표시되는지 확인
    - 트윗이 최신순(시간순 내림차순)으로 정렬되어 표시되는지 확인
    - 페이지네이션이 올바르게 동작하는지 확인 (무한 스크롤 또는 페이지 번호)
    - 더 많은 트윗이 있을 때 다음 페이지/더 많은 트윗 로드가 가능한지 확인
    - 빈 피드일 때 적절한 메시지가 표시되는지 확인

- [ ] 트윗 상세 페이지
  - 트윗 ID로 단일 트윗 조회
  - 트윗 상세 페이지 라우트
  - 댓글 목록 표시 (Phase 7에서 구현)
  - **확인 방법**:
    - 트윗 카드 클릭 시 트윗 상세 페이지로 이동하는지 확인
    - 트윗 상세 페이지 URL이 `/tweet/:id` 형식인지 확인
    - 트윗 상세 페이지에 트윗 내용이 올바르게 표시되는지 확인
    - 존재하지 않는 트윗 ID 접근 시 404 에러가 표시되는지 확인
    - 브라우저 뒤로가기 버튼이 올바르게 동작하는지 확인

- [ ] 트윗 수정 기능
  - 작성자만 수정 가능
  - 수정 폼 모달/페이지
  - 트윗 수정 action
  - **확인 방법**:
    - 본인이 작성한 트윗에만 수정 버튼이 표시되는지 확인
    - 다른 사용자의 트윗에는 수정 버튼이 표시되지 않는지 확인
    - 수정 버튼 클릭 시 수정 폼이 표시되는지 확인 (모달 또는 페이지)
    - 트윗 수정 후 변경사항이 데이터베이스에 반영되었는지 확인
    - 수정된 트윗이 피드에서 업데이트되어 표시되는지 확인

- [ ] 트윗 삭제 기능
  - 작성자만 삭제 가능
  - 삭제 확인 다이얼로그
  - 트윗 삭제 action (CASCADE 처리)
  - **확인 방법**:
    - 본인이 작성한 트윗에만 삭제 버튼이 표시되는지 확인
    - 다른 사용자의 트윗에는 삭제 버튼이 표시되지 않는지 확인
    - 삭제 버튼 클릭 시 삭제 확인 다이얼로그가 표시되는지 확인
    - 삭제 확인 후 트윗이 데이터베이스에서 삭제되었는지 확인
    - 삭제된 트윗이 피드에서 사라지는지 확인
    - 관련된 좋아요, 댓글 등도 CASCADE로 삭제되는지 확인

- [ ] 트윗 시간 표시
  - Luxon을 사용한 상대 시간 표시 (예: "2분 전", "1시간 전")
  - **확인 방법**:
    - 트윗 카드에 상대 시간이 올바르게 표시되는지 확인 (예: "2분 전", "1시간 전", "3일 전")
    - 시간이 경과함에 따라 상대 시간이 업데이트되는지 확인 (선택사항: 실시간 업데이트)
    - 오래된 트윗은 절대 날짜가 표시되는지 확인 (예: "2024년 1월 15일")
    - 시간대 처리가 올바른지 확인

---

## Phase 5: 소셜 기능 (좋아요, 리트윗)

### 목표
트윗에 대한 좋아요 및 리트윗 기능 구현

### 작업 항목

- [ ] 좋아요 기능
  - 좋아요 버튼 UI (하트 아이콘)
  - 좋아요 추가/제거 action
  - 좋아요 개수 표시
  - 사용자의 좋아요 상태 표시
  - **확인 방법**:
    - 좋아요 버튼 클릭 시 좋아요가 추가되는지 확인
    - 이미 좋아요한 트윗의 버튼을 다시 클릭 시 좋아요가 제거되는지 확인
    - 좋아요 개수가 올바르게 업데이트되는지 확인
    - 사용자가 좋아요한 트윗은 하트 아이콘이 채워진 상태로 표시되는지 확인
    - 좋아요한 트윗이 데이터베이스에 저장되었는지 확인

- [ ] 리트윗 기능
  - 리트윗 버튼 UI
  - 리트윗 추가/제거 action
  - 리트윗 개수 표시
  - 피드에 리트윗 표시
  - **확인 방법**:
    - 리트윗 버튼 클릭 시 리트윗이 추가되는지 확인
    - 이미 리트윗한 트윗의 버튼을 다시 클릭 시 리트윗이 제거되는지 확인
    - 리트윗 개수가 올바르게 업데이트되는지 확인
    - 리트윗한 트윗이 피드에 표시되는지 확인
    - 리트윗 정보가 데이터베이스에 저장되었는지 확인

- [ ] 좋아요한 트윗 페이지
  - 사용자가 좋아요한 트윗 목록
  - 프로필 페이지에 통합 또는 별도 페이지
  - **확인 방법**:
    - 좋아요한 트윗 목록 페이지가 표시되는지 확인
    - 사용자가 좋아요한 모든 트윗이 목록에 표시되는지 확인
    - 좋아요를 취소한 트윗이 목록에서 제거되는지 확인
    - 프로필 페이지에 통합된 경우 탭 전환이 올바르게 동작하는지 확인

- [ ] 리트윗한 트윗 표시
  - 리트윗 정보와 함께 원본 트윗 표시
  - "A가 리트윗했습니다" 표시
  - **확인 방법**:
    - 피드에서 리트윗된 트윗이 "A가 리트윗했습니다"와 함께 표시되는지 확인
    - 원본 트윗 내용이 올바르게 표시되는지 확인
    - 리트윗한 사용자의 정보가 표시되는지 확인
    - 리트윗된 트윗 클릭 시 원본 트윗 상세 페이지로 이동하는지 확인

---

## Phase 6: 팔로우 시스템 및 피드

### 목표
사용자 간 팔로우 기능 및 개인화된 피드 구현

### 작업 항목

- [ ] 팔로우 기능
  - 팔로우/언팔로우 버튼
  - 팔로우 action 구현
  - 팔로워/팔로잉 수 표시
  - **확인 방법**:
    - 다른 사용자 프로필에서 팔로우 버튼이 표시되는지 확인
    - 팔로우 버튼 클릭 시 팔로우 관계가 생성되는지 확인
    - 이미 팔로우한 사용자의 경우 언팔로우 버튼이 표시되는지 확인
    - 팔로워/팔로잉 수가 올바르게 업데이트되는지 확인
    - 자기 자신을 팔로우할 수 없는지 확인
    - 팔로우 관계가 데이터베이스에 저장되었는지 확인

- [ ] 팔로잉 피드
  - 팔로우한 사용자의 트윗만 표시
  - 홈 피드를 팔로잉 피드로 변경 또는 탭 추가
  - **확인 방법**:
    - 홈 피드에 팔로우한 사용자의 트윗만 표시되는지 확인
    - 팔로우하지 않은 사용자의 트윗이 표시되지 않는지 확인
    - 새로운 사용자를 팔로우하면 해당 사용자의 트윗이 피드에 나타나는지 확인
    - 탭이 있는 경우 탭 전환이 올바르게 동작하는지 확인

- [ ] 사용자 검색 (기본)
  - 사용자 이름/이메일로 검색
  - 검색 결과 표시
  - 검색 결과에서 팔로우 버튼
  - **확인 방법**:
    - 검색 바에서 사용자 이름으로 검색이 가능한지 확인
    - 검색 결과에 일치하는 사용자들이 표시되는지 확인
    - 검색 결과에서 팔로우 버튼이 표시되는지 확인
    - 검색 결과에서 사용자 프로필로 이동할 수 있는지 확인
    - 검색어가 없거나 결과가 없을 때 적절한 메시지가 표시되는지 확인

- [ ] 팔로워/팔로잉 목록
  - 프로필 페이지에 팔로워/팔로잉 목록
  - 각 사용자 프로필 링크
  - **확인 방법**:
    - 프로필 페이지에 팔로워/팔로잉 수가 표시되는지 확인
    - 팔로워/팔로잉 수 클릭 시 목록이 표시되는지 확인 (모달 또는 페이지)
    - 목록에 각 사용자의 정보가 올바르게 표시되는지 확인
    - 사용자 클릭 시 해당 사용자의 프로필 페이지로 이동하는지 확인
    - 팔로워/팔로잉 목록에서 팔로우/언팔로우가 가능한지 확인

---

## Phase 7: 답글 시스템 (스레드)

### 목표
트윗에 대한 답글(Reply) 및 스레드(Thread) 기능 구현 (Tweet 모델의 자기 참조 활용)

### 작업 항목

- [ ] 답글 작성
  - 답글 작성 모달/페이지
  - `parentId`를 포함한 트윗 생성 action
  - 답글 라인(스레드 선) UI 표시
  - **확인 방법**:
    - 답글 버튼 클릭 시 작성 창이 뜨는지 확인
    - 답글 작성 시 해당 트윗이 `parentId`를 가지고 저장되는지 확인
    - 답글이 원본 트윗 아래에 연결되어 표시되는지 확인
    - 트윗 상세 페이지에서 대화 흐름이 보이는지 확인

- [ ] 답글 목록 (스레드 뷰)
  - 트윗 상세 페이지에서 답글 목록 조회 (재귀적 또는 평면적)
  - "이 스레드 보기" 기능
  - **확인 방법**:
    - 트윗 상세 페이지 하단에 답글들이 표시되는지 확인
    - 답글의 답글(대댓글)도 올바르게 계층적으로 또는 순서대로 표시되는지 확인
    - 원본 트윗 -> 답글 -> 답글의 답글로 이어지는 선(Line) UI가 올바른지 확인

- [ ] 답글 알림 및 카운트
  - 피드에서 답글 개수 표시
  - 답글 작성 시 원본 작성자에게 알림 (Phase 11에서 연동)
  - **확인 방법**:
    - 트윗 카드 하단에 답글 아이콘과 개수가 올바르게 표시되는지 확인
    - 답글을 작성하면 즉시 개수가 증가하는지 확인

---

## Phase 8: 미디어 업로드 (이미지/동영상)

### 목표
Cloudinary를 사용한 이미지/동영상 업로드 기능

### 작업 항목

- [ ] Cloudinary 설정
  - Cloudinary SDK 설치
  - 환경 변수 설정 (CLOUDINARY_URL)
  - 업로드 유틸리티 함수
  - **확인 방법**:
    - `package.json`에 Cloudinary SDK 패키지가 추가되었는지 확인
    - `.env` 파일에 `CLOUDINARY_URL` 또는 관련 환경 변수가 설정되었는지 확인
    - 업로드 유틸리티 함수가 생성되었는지 확인
    - 간단한 테스트로 Cloudinary 연결이 정상인지 확인

- [ ] 미디어 업로드 및 매핑
  - 트윗 작성 시 이미지/동영상 첨부
  - Cloudinary 업로드 후 반환된 URL로 `Media` 레코드 생성
  - `Tweet`과 `Media` 트랜잭션 처리
  - **확인 방법**:
    - 파일 선택 시 미리보기가 표시되는지 확인
    - 업로드 시 `Media` 테이블에 레코드가 생성되는지 확인 (`tweetId` 연결)
    - 하나의 트윗에 여러 미디어(최대 4개)가 업로드되는지 확인
    - 이미지와 동영상 타입이 `Media` 테이블에 올바르게 구분되어 저장되는지 확인

- [ ] 미디어 표시
  - 트윗에 이미지/동영상 표시
  - 이미지 갤러리 뷰
  - 동영상 플레이어
  - **확인 방법**:
    - 트윗 카드에 이미지가 올바르게 표시되는지 확인
    - 여러 이미지가 있는 경우 갤러리 뷰로 표시되는지 확인
    - 이미지 클릭 시 확대/풀스크린 뷰가 표시되는지 확인
    - 트윗 카드에 동영상이 올바르게 표시되는지 확인
    - 동영상 재생 버튼 클릭 시 재생되는지 확인
    - 미디어 로딩 중 적절한 플레이스홀더가 표시되는지 확인

- [ ] 미디어 삭제
  - 트윗 삭제 시 Cloudinary에서도 삭제
  - 트윗 수정 시 미디어 관리
  - **확인 방법**:
    - 트윗 삭제 시 Cloudinary에서도 해당 미디어가 삭제되었는지 확인
    - 트윗 수정 시 기존 미디어를 제거하고 새 미디어를 추가할 수 있는지 확인
    - 트윗 수정 시 기존 미디어를 유지할 수 있는지 확인
    - 미디어 삭제 실패 시에도 트윗 삭제가 가능한지 확인 (에러 핸들링)

---

## Phase 9: 프로필 및 사용자 기능

### 목표
사용자 프로필 페이지 및 프로필 편집 기능

### 작업 항목

- [ ] 프로필 페이지
  - 사용자 정보 표시 (이름, 아이디, 소개)
  - 프로필 이미지/배너 이미지
  - 사용자의 트윗 목록
  - 팔로워/팔로잉 수
  - **확인 방법**:
    - 프로필 페이지 URL이 `/user/:username` 또는 `/profile/:id` 형식인지 확인
    - 사용자 이름, 아이디, 소개가 올바르게 표시되는지 확인
    - 프로필 이미지와 배너 이미지가 표시되는지 확인
    - 해당 사용자의 트윗 목록이 표시되는지 확인
    - 팔로워/팔로잉 수가 올바르게 표시되는지 확인
    - 존재하지 않는 사용자 프로필 접근 시 404 에러가 표시되는지 확인

- [ ] 프로필 편집
  - 프로필 편집 페이지
  - 이름, 소개, 프로필 이미지 변경
  - 배너 이미지 변경
  - 프로필 업데이트 action
  - **확인 방법**:
    - 프로필 편집 페이지가 표시되는지 확인 (본인 프로필에서만 접근 가능)
    - 이름, 소개를 수정하고 저장할 수 있는지 확인
    - 프로필 이미지 업로드 및 변경이 가능한지 확인
    - 배너 이미지 업로드 및 변경이 가능한지 확인
    - 프로필 수정 후 변경사항이 즉시 반영되어 표시되는지 확인
    - 프로필 이미지가 Cloudinary에 업로드되었는지 확인
    - 다른 사용자의 프로필 편집 페이지에 접근할 수 없는지 확인

- [ ] 사용자 트윗 필터
  - 트윗/리트윗/좋아요한 트윗 탭
  - 각 탭별 트윗 목록 표시
  - **확인 방법**:
    - 프로필 페이지에 트윗/리트윗/좋아요한 트윗 탭이 표시되는지 확인
    - 각 탭 클릭 시 해당하는 트윗 목록이 표시되는지 확인
    - 트윗 탭에는 본인이 작성한 트윗만 표시되는지 확인
    - 리트윗 탭에는 본인이 리트윗한 트윗만 표시되는지 확인
    - 좋아요한 트윗 탭에는 본인이 좋아요한 트윗만 표시되는지 확인
    - 탭 전환이 올바르게 동작하는지 확인

- [ ] 프로필 공개/비공개 설정 (선택사항)
  - 공개 프로필 설정
  - 비공개 프로필 설정
  - 팔로우 요청 기능
  - **확인 방법**:
    - 프로필 설정에서 공개/비공개 설정이 가능한지 확인
    - 비공개 프로필인 경우 다른 사용자가 트윗을 볼 수 없는지 확인
    - 비공개 프로필에 팔로우 요청을 보낼 수 있는지 확인
    - 팔로우 요청 수락/거부 기능이 동작하는지 확인
    - 비공개 프로필은 팔로우가 승인된 사용자만 트윗을 볼 수 있는지 확인

---

## Phase 10: 검색 기능

### 목표
트윗 및 사용자 검색 기능 구현

### 작업 항목

- [ ] 검색 UI
  - 검색 바 컴포넌트
  - 검색 페이지
  - 검색 결과 탭 (트윗/사용자)
  - **확인 방법**:
    - 검색 바가 헤더 또는 사이드바에 표시되는지 확인
    - 검색어 입력 후 검색 페이지로 이동하는지 확인
    - 검색 결과 페이지에 트윗/사용자 탭이 표시되는지 확인
    - 검색어가 URL 쿼리 파라미터로 전달되는지 확인 (예: `/search?q=검색어`)
    - 검색 바가 모바일에서도 접근 가능한지 확인

- [ ] 트윗 검색
  - 트윗 내용 검색
  - 해시태그 검색
  - 검색 결과 표시
  - **확인 방법**:
    - 검색어로 트윗 내용을 검색할 수 있는지 확인
    - 해시태그(#태그)로 검색할 수 있는지 확인
    - 검색 결과에 일치하는 트윗들이 표시되는지 확인
    - 검색 결과가 관련성 순 또는 시간순으로 정렬되는지 확인
    - 검색 결과가 없을 때 적절한 메시지가 표시되는지 확인
    - 검색 결과에서 트윗 클릭 시 트윗 상세 페이지로 이동하는지 확인

- [ ] 사용자 검색
  - 사용자 이름/아이디 검색
  - 검색 결과 표시
  - **확인 방법**:
    - 검색어로 사용자 이름 또는 아이디를 검색할 수 있는지 확인
    - 검색 결과에 일치하는 사용자들이 표시되는지 확인
    - 검색 결과에서 사용자 프로필로 이동할 수 있는지 확인
    - 검색 결과에서 팔로우/언팔로우가 가능한지 확인
    - 검색 결과가 없을 때 적절한 메시지가 표시되는지 확인

- [ ] 검색 최적화
  - 검색 인덱스 추가 (필요시)
  - 검색 성능 최적화
  - **확인 방법**:
    - 검색 쿼리 실행 시간이 적절한지 확인 (성능 측정)
    - 데이터베이스에 검색 인덱스가 추가되었는지 확인 (필요시)
    - 대량의 데이터에서도 검색이 빠르게 동작하는지 확인
    - 검색 결과 페이지네이션이 올바르게 동작하는지 확인

---

## Phase 11: 고급 기능

### 목표
북마크, 알림 등 추가 기능 구현

### 작업 항목

- [ ] 북마크 기능
  - 트윗 북마크 추가/제거
  - 북마크한 트윗 목록 페이지
  - 북마크 버튼 UI
  - **확인 방법**:
    - 트윗 카드에 북마크 버튼이 표시되는지 확인
    - 북마크 버튼 클릭 시 북마크가 추가되는지 확인
    - 이미 북마크한 트윗의 버튼을 다시 클릭 시 북마크가 제거되는지 확인
    - 북마크한 트윗 목록 페이지가 표시되는지 확인
    - 북마크한 트윗이 데이터베이스에 저장되었는지 확인
    - 북마크 버튼이 활성화된 상태로 표시되는지 확인

- [ ] 알림 시스템 (선택사항)
  - 좋아요 알림
  - 댓글 알림
  - 팔로우 알림
  - 알림 목록 페이지
  - **확인 방법**:
    - 좋아요를 받으면 알림이 생성되는지 확인
    - 댓글을 받으면 알림이 생성되는지 확인
    - 팔로우를 받으면 알림이 생성되는지 확인
    - 알림 목록 페이지에 모든 알림이 표시되는지 확인
    - 알림 아이콘에 읽지 않은 알림 개수가 표시되는지 확인
    - 알림 클릭 시 해당 트윗/사용자로 이동하는지 확인
    - 알림 읽음 처리 기능이 동작하는지 확인

- [ ] 트렌딩/인기 기능 (선택사항)
  - 인기 트윗 표시
  - 트렌딩 해시태그
  - **확인 방법**:
    - 인기 트윗 목록이 표시되는지 확인 (좋아요/리트윗 수 기준 등)
    - 트렌딩 해시태그 목록이 표시되는지 확인
    - 트렌딩 해시태그 클릭 시 해당 해시태그의 트윗 목록이 표시되는지 확인
    - 인기 트윗 알고리즘이 올바르게 동작하는지 확인
    - 트렌딩 데이터가 주기적으로 업데이트되는지 확인

---

## Phase 12: 모바일 앱 배포 (Capacitor)

### 목표
Capacitor를 사용하여 네이티브 모바일 앱 빌드 및 배포

### 작업 항목

- [ ] Capacitor 설치 및 설정
  - `npm install @capacitor/core @capacitor/cli`
  - `npm install @capacitor/ios @capacitor/android`
  - `npx cap init` 실행
  - **확인 방법**:
    - `package.json`에 Capacitor 패키지들이 추가되었는지 확인
    - `capacitor.config.ts` 파일이 생성되었는지 확인
    - Capacitor CLI가 설치되었는지 확인 (`npx cap --version`)
    - TypeScript 컴파일 오류가 없는지 확인

- [ ] React Router v7 SPA 모드 설정 (중요)
  - `react-router.config.ts`에서 `ssr: false` 설정 (또는 모바일 빌드용 별도 config 분리)
  - Capacitor는 로컬 파일 시스템에서 실행되므로 SSR 불가능함
  - 브라우저는 SSR, 모바일 앱은 CSR(SPA)로 동작하도록 빌드 파이프라인 구성
  - **확인 방법**:
    - SPA 모드로 빌드된 `index.html`이 `build/client`에 주입되는지 확인
    - 앱 실행 시 서버 연결 없이도 초기 화면이 렌더링되는지 확인
    - 모바일 앱 빌드용 스크립트(`npm run build:mobile`) 분리 여부 확인

- [ ] Capacitor 설정
  - `capacitor.config.ts` 설정
  - 앱 아이콘 및 스플래시 화면 설정
  - 권한 설정 (카메라, 갤러리 등)
  - **확인 방법**:
    - `capacitor.config.ts`에 앱 이름, 번들 ID 등이 올바르게 설정되었는지 확인
    - 앱 아이콘이 설정되었는지 확인 (`ios/App/App/Assets.xcassets/AppIcon.appiconset`, `android/app/src/main/res`)
    - 스플래시 화면이 설정되었는지 확인
    - `AndroidManifest.xml`과 `Info.plist`에 필요한 권한이 추가되었는지 확인
    - 권한 요청이 올바르게 동작하는지 확인 (실제 기기에서 테스트)

- [ ] iOS 앱 설정
  - Xcode 프로젝트 생성
  - iOS 빌드 및 테스트
  - App Store 배포 준비
  - **확인 방법**:
    - `npx cap add ios` 실행 후 `ios/` 디렉토리가 생성되었는지 확인
    - Xcode에서 프로젝트가 열리고 빌드가 가능한지 확인
    - 시뮬레이터 또는 실제 iOS 기기에서 앱이 실행되는지 확인
    - 앱 기능이 올바르게 동작하는지 확인 (네비게이션, 인증 등)
    - App Store Connect에 앱 정보가 준비되었는지 확인 (선택사항)

- [ ] Android 앱 설정
  - Android Studio 프로젝트 생성
  - Android 빌드 및 테스트
  - Play Store 배포 준비
  - **확인 방법**:
    - `npx cap add android` 실행 후 `android/` 디렉토리가 생성되었는지 확인
    - Android Studio에서 프로젝트가 열리고 빌드가 가능한지 확인
    - 에뮬레이터 또는 실제 Android 기기에서 앱이 실행되는지 확인
    - 앱 기능이 올바르게 동작하는지 확인 (네비게이션, 인증 등)
    - Google Play Console에 앱 정보가 준비되었는지 확인 (선택사항)

- [ ] PWA 지원
  - Manifest 파일 설정
  - Service Worker 설정
  - 오프라인 지원 (선택사항)
  - **확인 방법**:
    - `public/manifest.json` 파일이 생성되고 올바르게 설정되었는지 확인
    - HTML에 manifest 링크가 추가되었는지 확인
    - Service Worker가 등록되고 동작하는지 확인 (브라우저 개발자 도구)
    - 모바일에서 "홈 화면에 추가" 옵션이 표시되는지 확인
    - PWA가 설치 가능한지 확인 (브라우저 주소창의 설치 아이콘)
    - 오프라인 지원이 구현된 경우 오프라인에서도 동작하는지 확인

## Phase 13: 테스트 및 최적화

### 목표
테스트 작성 및 성능 최적화

### 작업 항목

- [ ] 테스트 설정
  - 테스트 프레임워크 설정 (Vitest 등)
  - 테스트 스크립트 추가
  - **확인 방법**:
    - `package.json`에 테스트 프레임워크가 추가되었는지 확인
    - `package.json`에 `test` 스크립트가 추가되었는지 확인
    - 테스트 설정 파일이 생성되었는지 확인 (`vitest.config.ts` 등)
    - `npm test` 명령어가 실행되는지 확인
    - 샘플 테스트가 통과하는지 확인

- [ ] 단위 테스트
  - 유틸리티 함수 테스트
  - 컴포넌트 테스트
  - **확인 방법**:
    - 주요 유틸리티 함수에 대한 테스트 파일이 작성되었는지 확인
    - 주요 컴포넌트에 대한 테스트 파일이 작성되었는지 확인
    - `npm test` 실행 시 모든 단위 테스트가 통과하는지 확인
    - 테스트 커버리지 리포트가 생성되는지 확인 (선택사항)
    - 새로운 코드 작성 시 테스트가 함께 작성되었는지 확인

- [ ] 통합 테스트
  - API 엔드포인트 테스트
  - 인증 플로우 테스트
  - **확인 방법**:
    - 주요 API 엔드포인트(loader, action)에 대한 통합 테스트가 작성되었는지 확인
    - 로그인/회원가입/로그아웃 플로우가 테스트되는지 확인
    - `npm test` 실행 시 모든 통합 테스트가 통과하는지 확인
    - 테스트 데이터베이스 또는 모킹이 올바르게 설정되었는지 확인
    - 인증이 필요한 엔드포인트 테스트에서 인증 처리가 올바른지 확인

- [ ] 성능 최적화
  - 이미지 최적화
  - 데이터베이스 쿼리 최적화
  - 코드 스플리팅
  - 로딩 성능 개선
  - 모바일 성능 최적화
  - **확인 방법**:
    - 이미지가 적절한 크기와 포맷으로 최적화되었는지 확인 (Lighthouse)
    - 데이터베이스 쿼리 실행 시간이 적절한지 확인 (느린 쿼리 로그 확인)
    - 번들 크기가 적절한지 확인 (빌드 리포트)
    - 초기 로딩 시간이 3초 이내인지 확인 (Lighthouse Performance 점수)
    - 모바일 기기에서 성능이 양호한지 확인 (실제 기기 테스트)
    - 코드 스플리팅이 적용되어 지연 로딩이 동작하는지 확인

- [ ] 접근성 개선
  - 키보드 네비게이션
  - 스크린 리더 지원
  - ARIA 레이블 추가
  - 모바일 접근성 최적화
  - **확인 방법**:
    - 키보드만으로 모든 기능에 접근할 수 있는지 확인 (Tab, Enter, Space 등)
    - 스크린 리더(VoiceOver, TalkBack)로 앱을 사용할 수 있는지 확인
    - 주요 인터랙티브 요소에 ARIA 레이블이 추가되었는지 확인
    - 색상 대비가 WCAG AA 기준을 만족하는지 확인 (Lighthouse Accessibility)
    - 포커스 표시가 명확한지 확인
    - 모바일에서 터치 타겟 크기가 최소 44px × 44px인지 확인

- [ ] 문서화
  - API 문서화
  - 컴포넌트 문서화
  - 배포 가이드 작성
  - 모바일 앱 빌드 가이드
  - **확인 방법**:
    - 주요 API 엔드포인트가 문서화되었는지 확인 (README 또는 별도 문서)
    - 주요 컴포넌트의 사용법이 문서화되었는지 확인
    - 배포 가이드가 작성되고 따라할 수 있는지 확인
    - 모바일 앱 빌드 가이드가 작성되고 따라할 수 있는지 확인
    - 환경 변수 목록과 설정 방법이 문서화되었는지 확인

---

## 개발 우선순위 및 의존성

1. **필수 기능** (Phase 1-4): 프로젝트의 기본 기능
2. **핵심 소셜 기능** (Phase 5-6): 트위터의 핵심 기능
3. **상호작용 기능** (Phase 7-8): 사용자 경험 향상
4. **개인화 기능** (Phase 9-10): 사용자 중심 기능
5. **고급 기능** (Phase 11): 추가 기능
6. **품질 보증** (Phase 12): 테스트 및 최적화

---

## 작업 프로세스

각 작업 항목은 다음 순서로 진행합니다:

1. **작업 수행**: 작업 항목 하나를 완료합니다.
2. **확인**: 작업 항목의 "확인 방법"을 따라 완료 여부를 확인합니다.
   - AI가 작업을 완료한 후, 사용자가 확인 방법을 따라 직접 확인합니다.
   - 모든 확인 항목이 통과되면 확인 완료로 간주합니다.
3. **커밋**: 사용자가 확인 완료 후 Git 커밋을 진행합니다.
   - 사용자가 확인이 완료되었다고 알려주면, AI가 Git 커밋을 진행합니다.
4. **다음 작업**: 다음 작업 항목으로 진행합니다.

> **참고**: 
> - 각 작업 항목(예: "Auth.js 설치 및 설정")은 하나의 독립적인 작업 단위입니다. 하위 항목들은 해당 작업을 완료하기 위한 단계입니다.
> - 작업 완료 후 반드시 사용자의 확인을 거쳐야 하며, 확인이 완료된 후에만 Git 커밋을 진행합니다.

## 참고사항

- 각 Phase는 독립적으로 작업 가능하지만, 순서대로 진행하는 것을 권장합니다.
- 각 작업 항목 완료 후 확인 및 Git 커밋을 진행합니다.
- AGENTS.md의 코딩 컨벤션을 준수합니다.
- DATABASE_SCHEMA.md를 참고하여 데이터베이스 스키마를 관리합니다.

