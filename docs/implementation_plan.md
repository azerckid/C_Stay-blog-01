# Implementation Plan

STAYnC 트위터/X 클론 프로젝트의 단계별 구현 계획입니다.

## 진행 상태

- [x] Phase 0: 프로젝트 초기 설정
- [x] Phase 1: 데이터베이스 및 인프라 설정
- [ ] Phase 2: 인증 시스템 구현
- [ ] Phase 3: 기본 레이아웃 및 UI 구성
- [x] Phase 4: 트윗 기능 (CRUD)
- [x] Phase 5: 소셜 기능 (좋아요, 리트윗)
- [x] Phase 6: 팔로우 시스템 및 피드
    - [x] 팔로우/언팔로우 API 구현
    - [x] 사용자 프로필 페이지 구현 (팔로잉/팔로워 목록 확인)
    - [x] 팔로잉 기반 피드 (홈 화면 '팔로잉' 탭) 구현

- [x] Phase 7: 댓글 및 대댓글
    - [x] 댓글 작성 및 조회 기능 구현
    - [x] 대댓글(Nested Comment) UI/UX 구현
    - [ ] 댓글 알림 연동 (Phase 9 연계)
- [x] Phase 8: 미디어 업로드 (이미지/동영상)
- [ ] Phase 8.5: 여행 블로그 특화 기능 (위치 정보, 지도 통합)
- [ ] Phase 9: 프로필 및 사용자 기능
- [ ] Phase 10: 검색 기능
- [ ] Phase 10.5: AI 기반 검색 (RAG 시스템) - 선택사항
- [ ] Phase 11: 고급 기능 (북마크, 알림 등)
- [ ] Phase 12: 모바일 앱 배포 (Capacitor)
- [ ] Phase 13: 테스트 및 최적화

---

## Phase 0: 프로젝트 초기 설정 ✅

### 완료된 작업

- [x] React Router v7 프로젝트 생성
- [x] Tailwind CSS v4 설정
- [x] shadcn/ui (Nova Preset) 설정
- [x] TypeScript 설정
- [x] 프로젝트 문서화 (AGENTS.md, DATABASE_SCHEMA.md)

### 추가 설정 필요

- [ ] Capacitor 설치 및 설정 (모바일 앱 배포용)
  - **확인 방법**:
    - Phase 12에서 상세 확인 방법 참고

---

## Phase 1: 데이터베이스 및 인프라 설정

### 목표
Prisma ORM 설정 및 데이터베이스 스키마 정의

### 작업 항목

- [x] Prisma 설치 및 초기 설정 ✅
  - `npm install prisma @prisma/client`
  - `npx prisma init`
  - `prisma/schema.prisma` 설정 (SQLite provider + libSQL adapter)
  - **확인 방법**:
    - `package.json`에 `prisma`, `@prisma/client` 패키지가 추가되었는지 확인
    - `prisma/` 디렉토리와 `prisma/schema.prisma` 파일이 생성되었는지 확인
    - `schema.prisma`의 `provider`가 `"sqlite"`로 설정되고 `previewFeatures` 설정됨 확인

- [x] 기존 데이터베이스 스키마 반영 ✅
  - `User`, `account`, `session`, `verification` 모델 정의
  - 기존 테이블 구조에 맞춰 Prisma 모델 작성
  - **확인 방법**:
    - `schema.prisma`에 `model User`, `model account`, `model session`, `model verification`이 정의되었는지 확인
    - 기존 테이블 구조와 일치하는지 `docs/DATABASE_SCHEMA.md`와 대조
    - TypeScript 컴파일 오류가 없는지 확인 (`npm run typecheck`)

- [x] 트위터 클론 필수 테이블 추가 ✅
  - `Tweet` 모델 및 마이그레이션 (Turso push 완료)
    - 기본 필드: id, userId, content, createdAt, updatedAt
    - `parentId`: 답글을 위한 자기 참조 (Self-referencing, nullable)
    - `isRetweet`, `originalTweetId`: 리트윗 관련 필드 (선택적)
    - `deletedAt`: Soft Delete 지원 (nullable)
    - 여행 블로그 특화 필드 (Phase 8.5에서 추가): locationName, latitude, longitude, address, travelDate, country, city, travelPlanId
    - 관계: User (Many-to-One), parent Tweet (Self-referencing), children replies, TravelTag (Many-to-Many via TweetTravelTag, Phase 8.5)
  - `Media` 모델 및 마이그레이션 (Tweet과 1:N 관계)
    - 필드: id, tweetId, type (IMAGE/VIDEO), url, thumbnailUrl, altText, order, createdAt
    - 관계: Tweet (Many-to-One)
  - `Like` 모델 및 마이그레이션
    - 필드: id, userId, tweetId, createdAt
    - UNIQUE 제약조건: (userId, tweetId) - 중복 좋아요 방지
    - 관계: User, Tweet (Many-to-One)
  - `Retweet` 모델 및 마이그레이션
    - 필드: id, userId, tweetId, createdAt
    - UNIQUE 제약조건: (userId, tweetId) - 중복 리트윗 방지
    - 관계: User, Tweet (Many-to-One)
  - `Follow` 모델 및 마이그레이션
    - 필드: id, followerId, followingId, createdAt
    - UNIQUE 제약조건: (followerId, followingId) - 중복 팔로우 방지
    - 자기 자신 팔로우 방지 검증 (애플리케이션 레벨)
    - 관계: User (follower, following, Many-to-One)
  - `Bookmark` 모델 및 마이그레이션 (선택사항)
    - 필드: id, userId, tweetId, createdAt
    - UNIQUE 제약조건: (userId, tweetId) - 중복 북마크 방지
    - 관계: User, Tweet (Many-to-One)
  - `TravelTag` 모델 및 마이그레이션 (여행 블로그 특화, Phase 8.5에서 선반영)
    - 필드: id, name, slug, description, createdAt
    - UNIQUE 제약조건: name, slug
    - 관계: TweetTravelTag (One-to-Many)
  - `TweetTravelTag` 모델 및 마이그레이션 (여행 블로그 특화, Phase 8.5에서 선반영)
    - 필드: id, tweetId, travelTagId, createdAt
    - UNIQUE 제약조건: (tweetId, travelTagId) - 중복 태그 방지
    - 관계: Tweet, TravelTag (Many-to-One)
  - 인덱스 추가 완료
  - **확인 방법**:
    - `schema.prisma`에 모든 모델이 정의되었는지 확인
    - `Tweet` 모델에 `parentId` 필드가 있고 자기 참조 관계가 설정되었는지 확인
    - `Tweet` 모델에 `deletedAt` 필드가 추가되었는지 확인 (Soft Delete)
    - `Media` 모델이 `Tweet`과 올바르게 연결되어 있는지 확인
    - 각 모델에 UNIQUE 제약조건이 올바르게 설정되었는지 확인
    - 인덱스가 Prisma 스키마에 정의되었는지 확인 (`@@index`)
    - Turso CLI를 통해 원격 DB에 테이블 생성 확인 완료

- [x] Prisma Client 생성 및 테스트 ✅
  - `npx prisma generate` 완료
  - 원격 Turso 데이터베이스 연결 확인
  - **확인 방법**:
    - `node_modules/.prisma/client` 디렉토리가 생성되었는지 확인
    - Turso CLI를 통해 스키마 생성 확인
    - Prisma Client를 통한 타입 생성 확인 (`npm run typecheck`)

- [x] 환경 변수 설정 ✅
  - `.env` 파일에 `DATABASE_URL` 및 `TURSO_AUTH_TOKEN` 설정 완료
  - Prisma 관련 환경 변수 연동 완료 (`prisma.config.ts`)
  - **확인 방법**:
    - `.env` 파일에 `DATABASE_URL`이 올바르게 설정되었는지 확인
    - 애플리케이션 시작 시 데이터베이스 연결 오류가 없는지 확인

---

## Phase 2: 인증 시스템 구현

### 목표
Better Auth를 사용한 세션 기반 인증 시스템 구현

### 작업 항목

- [x] Better Auth 설치 및 설정
  - `npm install better-auth`
  - Auth 서버 설정 (`app/lib/auth.ts`)
  - Auth 클라이언트 설정 (`app/lib/auth-client.ts`)
  - **확인 방법**: 
    - `package.json`에 `better-auth` 패키지가 추가되었는지 확인
    - `app/lib/auth.ts`와 `app/lib/auth-client.ts` 파일이 생성되었는지 확인
    - TypeScript 컴파일 오류가 없는지 확인 (`npm run typecheck`)

- [x] 로그인 페이지 구현
  - 로그인 폼 UI (이메일, 비밀번호)
  - Zod 스키마로 입력 검증
  - 로그인 action 구현
  - 로그인 성공/실패 시 Toast 알림 표시
  - **확인 방법**:
    - 로그인 페이지 라우트가 동작하는지 확인 (`/login`)
    - 로그인 폼이 렌더링되는지 확인
    - 유효하지 않은 입력 시 에러 메시지가 표시되는지 확인
    - 올바른 자격증명으로 로그인 시 Toast 성공 메시지가 표시되는지 확인
    - 잘못된 자격증명으로 로그인 시 Toast 에러 메시지가 표시되는지 확인
    - 로그인 성공 시 세션이 생성되는지 확인
    - 브라우저 개발자 도구에서 쿠키/세션 확인

- [x] 회원가입 페이지 구현
  - 회원가입 폼 UI (이메일, 비밀번호, 이름)
  - Zod 스키마로 입력 검증
  - 회원가입 action 구현
  - 회원가입 성공/실패 시 Toast 알림 표시
  - **확인 방법**:
    - 회원가입 페이지 라우트가 동작하는지 확인 (`/signup` 또는 `/register`)
    - 회원가입 폼이 렌더링되는지 확인
    - 유효하지 않은 입력 시 에러 메시지가 표시되는지 확인
    - 회원가입 성공 시 Toast 성공 메시지가 표시되는지 확인
    - 중복 이메일 등으로 회원가입 실패 시 Toast 에러 메시지가 표시되는지 확인
    - 회원가입 성공 후 새 사용자가 데이터베이스에 생성되었는지 확인
    - 회원가입 후 자동 로그인 또는 로그인 페이지로 리다이렉트되는지 확인

- [x] 세션 관리
  - 세션 상태 확인 유틸리티
  - 보호된 라우트 구현
  - 로그아웃 기능
  - 로그아웃 시 Toast 알림 표시
  - **확인 방법**:
    - 비로그인 사용자가 보호된 라우트 접근 시 로그인 페이지로 리다이렉트되는지 확인
    - 로그인한 사용자가 보호된 라우트에 접근할 수 있는지 확인
    - 로그아웃 버튼 클릭 시 Toast 성공 메시지가 표시되는지 확인
    - 로그아웃 버튼 클릭 시 세션이 삭제되는지 확인
    - 로그아웃 후 로그인이 필요한 페이지 접근 시 리다이렉트되는지 확인
    - 세션 유틸리티 함수가 올바르게 동작하는지 테스트

- [x] OAuth 제공자 설정
  - Google OAuth 설정 및 구현
    - 리다이렉트 URL: `http://localhost:5173/auth/google/callback`
  - Kakao OAuth 설정 및 구현
    - 리다이렉트 URL: `http://localhost:5173/auth/kakao/callback`
  - OAuth 로그인 버튼 UI (Google, Kakao)
  - OAuth 콜백 처리
  - **확인 방법**:
    - `.env` 파일에 Google/Kakao OAuth 클라이언트 ID와 시크릿이 설정되었는지 확인
    - OAuth 로그인 버튼이 로그인 페이지에 표시되는지 확인
    - Google 로그인 버튼 클릭 시 Google 로그인 페이지로 리다이렉트되는지 확인
    - Kakao 로그인 버튼 클릭 시 Kakao 로그인 페이지로 리다이렉트되는지 확인
    - OAuth 콜백 후 사용자가 로그인되고 세션이 생성되는지 확인
    - OAuth로 가입한 사용자가 데이터베이스에 올바르게 저장되는지 확인

---

## Phase 3: 기본 레이아웃 및 UI 구성

### 목표
트위터 스타일의 기본 레이아웃 및 네비게이션 구성

### 작업 항목

- [x] Toast 컴포넌트 설치 및 설정
  - shadcn/ui Sonner 컴포넌트 설치 (`npx shadcn@latest add sonner`)
  - Sonner는 독립적인 토스트 라이브러리이며, shadcn/ui는 Sonner를 스타일링한 래퍼 컴포넌트를 제공합니다
  - shadcn/ui에서 권장하는 Toast 솔루션 (기존 Toast 컴포넌트 대체)
  - Toaster 컴포넌트를 root 레이아웃에 추가
  - Toast 사용 유틸리티 함수 생성 (선택사항)
  - **확인 방법**:
    - `package.json`에 `sonner` 패키지가 추가되었는지 확인
    - `app/components/ui/sonner.tsx` 파일이 생성되었는지 확인
    - `app/root.tsx`에 `<Toaster />` 컴포넌트가 추가되었는지 확인
    - `toast.success()`, `toast.error()` 등이 정상 동작하는지 테스트
    - 성공/에러 Toast 메시지가 올바르게 표시되는지 확인

- [x] 메인 레이아웃 컴포넌트
  - 사이드바 네비게이션
  - 헤더/상단바
  - 메인 콘텐츠 영역
  - 반응형 디자인
  - **확인 방법**:
    - 메인 레이아웃 컴포넌트가 모든 페이지에서 적용되는지 확인
    - 모바일에서 레이아웃이 올바르게 표시되는지 확인 (브라우저 개발자 도구)
    - 데스크톱에서 3단 레이아웃이 올바르게 표시되는지 확인
    - 사이드바, 헤더, 메인 콘텐츠 영역이 모두 표시되는지 확인
    - 반응형 브레이크포인트에서 레이아웃이 적절히 변경되는지 확인

- [x] 네비게이션 메뉴
  - 홈, 탐색, 알림, 메시지, 프로필 등 메뉴 아이템
  - 활성 상태 표시
  - 아이콘 통합 (Hugeicons)
  - **확인 방법**:
    - 모든 메뉴 아이템이 사이드바/하단 네비게이션에 표시되는지 확인
    - 메뉴 아이템 클릭 시 해당 페이지로 이동하는지 확인
    - 현재 페이지에 해당하는 메뉴 아이템이 활성 상태(강조)로 표시되는지 확인
    - 아이콘이 올바르게 표시되는지 확인
    - 모바일에서 하단 네비게이션이 표시되는지 확인

- [x] 트윗 작성 컴포넌트 (기본 UI만)
  - 텍스트 입력 영역
  - 이미지 첨부 버튼 (Phase 8에서 기능 구현)
  - 게시 버튼 (Phase 4에서 기능 구현)
  - **확인 방법**:
    - 트윗 작성 컴포넌트가 홈 피드 상단에 표시되는지 확인
    - 텍스트 입력 영역이 클릭 가능하고 입력이 가능한지 확인
    - 이미지 첨부 버튼이 표시되는지 확인 (기능은 Phase 8에서)
    - 게시 버튼이 표시되는지 확인 (기능은 Phase 4에서)
    - UI가 `docs/UI_DESIGN_SYSTEM.md`의 디자인 가이드라인을 따르는지 확인

- [x] 트윗 카드 컴포넌트 (기본 UI만)
  - 사용자 아바타, 이름, 아이디
  - 트윗 내용
  - 좋아요, 리트윗, 댓글 버튼 (기능은 이후 단계에서)
  - **확인 방법**:
    - 트윗 카드 컴포넌트가 렌더링되는지 확인
    - 사용자 아바타, 이름, 아이디가 표시되는지 확인
    - 트윗 내용이 표시되는지 확인
    - 좋아요, 리트윗, 댓글 버튼이 표시되는지 확인 (기능은 이후 단계)
    - 여러 트윗 카드가 올바르게 리스트로 표시되는지 확인
    - UI가 `docs/UI_DESIGN_SYSTEM.md`의 디자인 가이드라인을 따르는지 확인

- [x] 로딩 상태 및 에러 처리
  - 로딩 스피너
  - 에러 메시지 표시
  - 빈 상태 컴포넌트
  - **확인 방법**:
    - 데이터 로딩 중 로딩 스피너가 표시되는지 확인
    - 에러 발생 시 에러 메시지가 표시되는지 확인
    - 데이터가 없을 때 빈 상태 컴포넌트가 표시되는지 확인
    - 네트워크 오류 시 적절한 에러 메시지가 표시되는지 확인
    - 에러 바운더리가 올바르게 동작하는지 확인

---

## Phase 4: 트윗 기능 (CRUD)

### 목표
트윗의 생성, 조회, 수정, 삭제 기능 구현

### 작업 항목

- [x] 트윗 작성 기능
  - [x] 트윗 작성 action 구현 (`api.tweets.ts`)
  - [x] Zod 스키마로 내용 검증 (서버/클라이언트 모두 확인)
  - [x] 데이터베이스에 저장 (Prisma + Turso)
  - [x] 성공 후 피드 새로고침 (`useRevalidator` 사용)
  - [x] 트윗 작성 성공/실패 시 Toast 알림 표시 (Sonner 사용)
  - **확인 완료 사항**:
    - 트윗 작성 폼에서 내용 입력 후 게시 확인
    - 유효성 검사 실패 시 에러 처리 확인
    - 작성 직후 피드 자동 갱신 확인
    - 로그인/로그아웃 및 작성 시 알림 유실 없는지 확인

- [x] 트윗 목록 조회
  - [x] 홈 피드 구현 (loader에서 Prisma로 조회)
  - [x] 모든 사용자의 트윗 시간순 정렬 (최신순)
  - [x] 날짜/시간 표시 (Luxon 도입, 상대 시간 및 툴팁 절대 시간 적용)
  - [ ] 페이지네이션 (무한 스크롤 또는 페이지 번호) - 추후 구현
  - **확인 방법**:
    - 홈 페이지에 트윗 목록 표시 확인
    - 최신순 정렬 확인
    - "방금 전", "3분 전" 등 상대 시간 표시 확인 및 마우스 호버 시 정확한 시간 표시 확인
    - 빈 피드일 때 안내 메시지 확인

- [x] 트윗 상세 페이지
  - [x] 트윗 ID로 단일 트윗 조회
  - [x] 트윗 상세 페이지 라우트 (`/tweet/:id`)
  - [ ] 댓글 목록 표시 (Phase 7에서 구현)
  - **확인 방법**:
    - 트윗 카드 클릭 시 트윗 상세 페이지로 이동하는지 확인
    - 트윗 상세 페이지 URL이 `/tweet/:id` 형식인지 확인
    - 트윗 상세 페이지에 트윗 내용이 올바르게 표시되는지 확인

- [x] 트윗 수정 기능
  - [x] 작성자만 수정 가능
  - [x] 수정 폼 모달 (Shadcn Dialog)
  - [x] 트윗 수정 action (PATCH 메서드)
  - [x] 트윗 수정 성공/실패 시 Toast 알림 표시
  - **확인 방법**:
    - 본인이 작성한 트윗에만 수정 버튼이 표시되는지 확인
    - 수정 버튼 클릭 시 다이얼로그가 표시되고 기존 내용이 채워져 있는지 확인
    - 트윗 수정 성공 시 Toast 성공 메시지가 표시되고 다이얼로그가 닫히는지 확인
    - 수정된 트윗이 피드에서 즉시 업데이트되어 표시되는지 확인

- [x] 트윗 삭제 기능
  - [x] 작성자만 삭제 가능 (서버/클라이언트 이중 체크)
  - [x] 삭제 확인 다이얼로그 (`confirm` 사용)
  - [x] 트윗 삭제 action (CASCADE 처리 - Prisma 기본 동작)
  - [x] 트윗 삭제 성공/실패 시 Toast 알림 표시
  - **확인 방법**:
    - 본인이 작성한 트윗에만 삭제 버튼이 표시되는지 확인
    - 삭제 버튼 클릭 시 삭제 확인 다이얼로그가 표시되는지 확인
    - 삭제 확인 후 트윗이 화면에서 즉시 사라지는지 확인

- [x] 트윗 시간 표시
  - [x] Luxon을 사용한 상대 시간 표시 (예: "2분 전") 및 툴팁 절대 시간 지원
  - **확인 완료 사항**:
    - 트윗 카드에 상대 시간 표시 확인 ("방금 전", "시간 전")
    - 한국어 포맷(ko) 적용 확인
    - 마우스 호버 시 정확한 절대 시간(fullCreatedAt) 표시 확인

---

## Phase 4 개선 제안

Phase 4 구현 완료 후 발견된 개선 사항입니다. 기본 기능은 정상 동작하지만, 데이터 무결성과 사용자 경험 향상을 위해 다음 사항들을 개선하는 것을 권장합니다.

### 개선 사항

#### 1. Soft Delete 구현
- **현재 상태**: 하드 삭제 사용 (`prisma.tweet.delete()`)
- **문제점**: 
  - 삭제된 트윗 복구 불가능
  - 삭제된 트윗 관련 통계 및 관계 데이터 손실
  - 데이터 무결성 문제 가능성
- **권장 사항**:
  - `deletedAt` 필드를 활용한 Soft Delete 구현
  - 삭제 시 `deletedAt`을 현재 시간으로 설정 (`update` 메서드 사용)
  - 조회 쿼리에 `where: { deletedAt: null }` 조건 추가
  - 삭제된 트윗은 일반 사용자에게 보이지 않도록 처리
- **구현 위치**:
  - `app/routes/api.tweets.ts`: DELETE action에서 `delete()` 대신 `update({ deletedAt: new Date() })` 사용
  - `app/routes/home.tsx`, `app/routes/api.tweets.ts`: loader에서 `where: { deletedAt: null }` 조건 추가
  - `app/routes/tweet.$tweetId.tsx`: 상세 페이지에서도 `deletedAt` 체크 추가
- **확인 방법**:
  - 트윗 삭제 시 데이터베이스에서 레코드가 삭제되지 않고 `deletedAt`이 설정되는지 확인
  - 삭제된 트윗이 피드에서 사라지는지 확인
  - 삭제된 트윗 상세 페이지 접근 시 404 또는 적절한 에러 메시지 표시 확인

#### 2. 삭제/수정 후 피드 갱신 개선
- **현재 상태**: `tweet-card.tsx`에서 `useRevalidator` 미사용
- **문제점**:
  - 삭제/수정 성공 후 피드가 즉시 갱신되지 않을 수 있음
  - React Router의 기본 동작에 의존하여 명시적 갱신이 없음
- **권장 사항**:
  - `tweet-card.tsx`에 `useRevalidator` 추가
  - 삭제/수정 성공 후 `revalidator.revalidate()` 호출
  - 트윗 작성과 동일한 패턴 적용
- **구현 위치**:
  - `app/components/tweet/tweet-card.tsx`: `useRevalidator` import 및 삭제/수정 성공 시 `revalidator.revalidate()` 호출
- **확인 방법**:
  - 트윗 삭제 후 피드에서 즉시 제거되는지 확인
  - 트윗 수정 후 피드에서 즉시 업데이트되는지 확인
  - 네트워크 탭에서 불필요한 중복 요청이 발생하지 않는지 확인

#### 3. 페이지네이션 구현
- **현재 상태**: 최대 20개 고정 (`take: 20`)
- **문제점**:
  - 트윗이 많아질수록 초기 로딩 시간 증가
  - 대량 데이터 처리 시 성능 저하
  - 사용자가 모든 트윗을 한 번에 볼 수 없음
- **권장 사항**:
  - 무한 스크롤 방식 구현 (권장)
  - 또는 페이지 번호 방식 구현
  - 커서 기반 페이지네이션 또는 오프셋 기반 페이지네이션
- **구현 위치**:
  - `app/routes/home.tsx`: loader에 페이지네이션 파라미터 추가
  - `app/components/tweet/tweet-card.tsx` 또는 새로운 컴포넌트: 무한 스크롤 구현 (Intersection Observer API 사용)
- **확인 방법**:
  - 초기 로딩 시 제한된 수의 트윗만 로드되는지 확인
  - 스크롤 하단 도달 시 추가 트윗이 로드되는지 확인 (무한 스크롤)
  - 또는 페이지 번호 클릭 시 해당 페이지의 트윗이 로드되는지 확인
  - 네트워크 탭에서 페이지네이션 요청이 올바르게 전송되는지 확인

### 개선 우선순위

1. **높음**: Soft Delete 구현 (데이터 무결성 및 복구 가능성)
2. **중간**: 삭제/수정 후 피드 갱신 개선 (사용자 경험 향상)
3. **중간**: 페이지네이션 구현 (성능 및 확장성)

> **참고**: 이 개선 사항들은 Phase 4의 기본 요구사항은 아니지만, 프로덕션 환경에서는 필수적으로 고려해야 할 사항입니다. 프로젝트 진행 상황에 따라 Phase 4 완료 후 또는 다른 Phase와 병행하여 구현할 수 있습니다.

---

## Phase 5: 소셜 기능 (좋아요, 리트윗)

### 목표
트윗에 대한 좋아요 및 리트윗 기능 구현

### 작업 항목

- [x] 좋아요 기능
  - [x] 좋아요 버튼 UI (하트 아이콘)
  - [x] 좋아요 추가/제거 action
  - [x] 좋아요 개수 표시
  - [x] 사용자의 좋아요 상태 표시
  - **확인 방법**:
    - 좋아요 버튼 클릭 시 좋아요가 추가되는지 확인
    - 이미 좋아요한 트윗의 버튼을 다시 클릭 시 좋아요가 제거되는지 확인
    - 좋아요 개수가 올바르게 업데이트되는지 확인
    - 사용자가 좋아요한 트윗은 하트 아이콘이 채워진 상태로 표시되는지 확인
    - 좋아요한 트윗이 데이터베이스에 저장되었는지 확인

- [x] 리트윗 기능
  - [x] 리트윗 버튼 UI
  - [x] 리트윗 추가/제거 action
  - [x] 리트윗 개수 표시
  - [x] 피드에 리트윗 표시
  - **확인 방법**:
    - 리트윗 버튼 클릭 시 리트윗이 추가되는지 확인
    - 이미 리트윗한 트윗의 버튼을 다시 클릭 시 리트윗이 제거되는지 확인
    - 리트윗 개수가 올바르게 업데이트되는지 확인
    - 리트윗한 트윗이 피드에 표시되는지 확인
    - 리트윗 정보가 데이터베이스에 저장되었는지 확인

> **Note**: '좋아요한 트윗 페이지'는 Phase 9(프로필 및 사용자 기능)의 '사용자 트윗 필터' 항목에 통합하여 구현할 예정입니다. 프로필 페이지의 탭 형태로 제공하는 것이 사용자 경험상 더 자연스럽기 때문입니다.

- [x] 리트윗한 트윗 표시
  - [x] 리트윗 정보와 함께 원본 트윗 표시
  - [x] "A가 리트윗했습니다" 표시
  - **확인 방법**:
    - 피드에서 리트윗된 트윗이 "A가 리트윗했습니다"와 함께 표시되는지 확인
    - 원본 트윗 내용이 올바르게 표시되는지 확인
    - 리트윗한 사용자의 정보가 표시되는지 확인
    - 리트윗된 트윗 클릭 시 원본 트윗 상세 페이지로 이동하는지 확인

---

## Phase 6: 팔로우 시스템 및 피드

### 목표
사용자 간 팔로우 기능 및 개인화된 피드 구현

### 작업 항목

- [x] 팔로우 기능
  - 팔로우/언팔로우 버튼
  - 팔로우 action 구현
  - 팔로워/팔로잉 수 표시
  - **확인 방법**:
    - 다른 사용자 프로필에서 팔로우 버튼이 표시되는지 확인
    - 팔로우 버튼 클릭 시 팔로우 관계가 생성되는지 확인
    - 이미 팔로우한 사용자의 경우 언팔로우 버튼이 표시되는지 확인
    - 팔로워/팔로잉 수가 올바르게 업데이트되는지 확인
    - 자기 자신을 팔로우할 수 없는지 확인
    - 팔로우 관계가 데이터베이스에 저장되었는지 확인

- [x] 팔로잉 피드
  - 팔로우한 사용자의 트윗만 표시
  - 홈 피드를 팔로잉 피드로 변경 또는 탭 추가
  - **확인 방법**:
    - 홈 피드에 팔로우한 사용자의 트윗만 표시되는지 확인
    - 팔로우하지 않은 사용자의 트윗이 표시되지 않는지 확인
    - 새로운 사용자를 팔로우하면 해당 사용자의 트윗이 피드에 나타나는지 확인
    - 탭이 있는 경우 탭 전환이 올바르게 동작하는지 확인

- [x] 사용자 검색 (기본)
  - 사용자 이름/이메일로 검색
  - 검색 결과 표시
  - 검색 결과에서 팔로우 버튼
  - **확인 방법**:
    - 검색 바에서 사용자 이름으로 검색이 가능한지 확인
    - 검색 결과에 일치하는 사용자들이 표시되는지 확인
    - 검색 결과에서 팔로우 버튼이 표시되는지 확인
    - 검색 결과에서 사용자 프로필로 이동할 수 있는지 확인
    - 검색어가 없거나 결과가 없을 때 적절한 메시지가 표시되는지 확인

- [x] 팔로워/팔로잉 목록
  - 프로필 페이지에 팔로워/팔로잉 목록
  - 각 사용자 프로필 링크
  - **확인 방법**:
    - 프로필 페이지에 팔로워/팔로잉 수가 표시되는지 확인
    - 팔로워/팔로잉 수 클릭 시 목록이 표시되는지 확인 (모달 또는 페이지)
    - 목록에 각 사용자의 정보가 올바르게 표시되는지 확인
    - 사용자 클릭 시 해당 사용자의 프로필 페이지로 이동하는지 확인
    - 팔로워/팔로잉 목록에서 팔로우/언팔로우가 가능한지 확인

---

## Phase 7: 답글 시스템 (스레드)

### 목표
트윗에 대한 답글(Reply) 및 스레드(Thread) 기능 구현 (Tweet 모델의 자기 참조 활용)

### 작업 항목

- [x] 답글 작성
  - 답글 작성 모달/페이지
  - `parentId`를 포함한 트윗 생성 action
  - 답글 라인(스레드 선) UI 표시
  - 답글 작성 성공/실패 시 Toast 알림 표시
  - **확인 방법**:
    - 답글 버튼 클릭 시 작성 창이 뜨는지 확인
    - 답글 작성 성공 시 Toast 성공 메시지가 표시되는지 확인
    - 답글 작성 실패 시 Toast 에러 메시지가 표시되는지 확인
    - 답글 작성 시 해당 트윗이 `parentId`를 가지고 저장되는지 확인
    - 답글이 원본 트윗 아래에 연결되어 표시되는지 확인
    - 트윗 상세 페이지에서 대화 흐름이 보이는지 확인

- [x] 답글 목록 (스레드 뷰)
  - 트윗 상세 페이지에서 답글 목록 조회 (재귀적 또는 평면적)
  - "이 스레드 보기" 기능
  - **확인 방법**:
    - 트윗 상세 페이지 하단에 답글들이 표시되는지 확인
    - 답글의 답글(대댓글)도 올바르게 계층적으로 또는 순서대로 표시되는지 확인
    - 원본 트윗 -> 답글 -> 답글의 답글로 이어지는 선(Line) UI가 올바른지 확인

- [ ] 답글 알림 및 카운트
  - 피드에서 답글 개수 표시
  - 답글 작성 시 원본 작성자에게 알림 (Phase 11에서 연동)
  - **확인 방법**:
    - 트윗 카드 하단에 답글 아이콘과 개수가 올바르게 표시되는지 확인
    - 답글을 작성하면 즉시 개수가 증가하는지 확인

---

## Phase 8: 미디어 업로드 (이미지/동영상)

### 목표
Cloudinary를 사용한 이미지/동영상 업로드 기능

### 작업 항목

- [x] Cloudinary 설정
  - [x] Cloudinary SDK 설치
  - [x] 환경 변수 설정 (CLOUDINARY_URL)
  - [x] 업로드 유틸리티 함수
  - **확인 방법**:
    - `package.json`에 Cloudinary SDK 패키지가 추가되었는지 확인
    - `.env` 파일에 `CLOUDINARY_URL` 또는 관련 환경 변수가 설정되었는지 확인
    - 업로드 유틸리티 함수가 생성되었는지 확인
    - 간단한 테스트로 Cloudinary 연결이 정상인지 확인

- [x] 미디어 업로드 및 매핑
  - [x] 트윗 작성 시 이미지/동영상 첨부
  - [x] Cloudinary 업로드 후 반환된 URL로 `Media` 레코드 생성
  - [x] `Tweet`과 `Media` 트랜잭션 처리
  - **확인 방법**:
    - 파일 선택 시 미리보기가 표시되는지 확인
    - 업로드 시 `Media` 테이블에 레코드가 생성되는지 확인 (`tweetId` 연결)
    - 하나의 트윗에 여러 미디어(최대 4개)가 업로드되는지 확인
    - 이미지와 동영상 타입이 `Media` 테이블에 올바르게 구분되어 저장되는지 확인

- [x] 미디어 표시
  - [x] 트윗에 이미지/동영상 표시
  - [x] 이미지 갤러리 뷰
  - [x] 동영상 플레이어
  - **확인 방법**:
    - 트윗 카드에 이미지가 올바르게 표시되는지 확인
    - 여러 이미지가 있는 경우 갤러리 뷰로 표시되는지 확인
    - 이미지 클릭 시 확대/풀스크린 뷰가 표시되는지 확인
    - 트윗 카드에 동영상이 올바르게 표시되는지 확인
    - 동영상 재생 버튼 클릭 시 재생되는지 확인
    - 미디어 로딩 중 적절한 플레이스홀더가 표시되는지 확인

- [x] 미디어 삭제
  - 트윗 삭제 시 Cloudinary에서도 삭제
  - 트윗 수정 시 미디어 관리
  - **확인 방법**:
    - 트윗 삭제 시 Cloudinary에서도 해당 미디어가 삭제되었는지 확인 (Soft Delete 정책에 따라 보류 가능)
    - 트윗 수정 시 기존 미디어를 제거하고 새 미디어를 추가할 수 있는지 확인
    - 트윗 수정 시 기존 미디어를 유지할 수 있는지 확인
    - 미디어 삭제 실패 시에도 트윗 삭제가 가능한지 확인 (에러 핸들링)

---

## Phase 8.5: 여행 블로그 특화 기능 (위치 정보, 지도 통합)

### 목표
여행 블로그 특화 기능 구현: 위치 정보 추가, 지도 통합, 여행 태그 시스템

### 사전 요구사항
- Phase 8 (미디어 업로드) 완료
- 지도 서비스 API 키 준비 (Google Maps, Naver Maps, 또는 Mapbox)

### 작업 항목

- [ ] 데이터베이스 스키마 확장
  - `Tweet` 테이블에 여행 관련 필드 추가 (locationName, latitude, longitude, address, travelDate, country, city)
  - `TravelTag` 테이블 생성 및 마이그레이션
  - `TweetTravelTag` 테이블 생성 및 마이그레이션 (다대다 관계)
  - **확인 방법**:
    - Prisma 스키마에 여행 관련 필드가 추가되었는지 확인
    - 마이그레이션이 성공적으로 실행되었는지 확인 (`npx prisma migrate dev`)
    - 데이터베이스에 새로운 테이블과 필드가 생성되었는지 확인
    - TypeScript 타입이 올바르게 생성되었는지 확인 (`npm run typecheck`)

- [ ] 위치 정보 입력 기능
  - 트윗 작성 시 위치 검색 UI
  - 장소 자동완성 (지도 API 활용)
  - 위도/경도 자동 저장
  - 국가/도시 자동 추출
  - **확인 방법**:
    - 트윗 작성 시 위치 추가 버튼이 표시되는지 확인
    - 위치 검색 입력 시 자동완성 목록이 표시되는지 확인
    - 위치 선택 시 위도/경도가 올바르게 저장되는지 확인
    - 국가와 도시가 자동으로 추출되어 저장되는지 확인
    - 위치 정보가 트윗 카드에 표시되는지 확인

- [ ] 여행 태그 시스템
  - 여행 태그 생성 및 관리 (관리자 기능 또는 자동 생성)
  - 트윗 작성 시 태그 추가 UI
  - 태그 자동완성
  - 트윗에 여러 태그 연결 (다대다 관계)
  - **확인 방법**:
    - 트윗 작성 시 태그 추가 버튼이 표시되는지 확인
    - 태그 입력 시 자동완성이 동작하는지 확인
    - 하나의 트윗에 여러 태그가 추가되는지 확인
    - 태그가 트윗 카드에 표시되는지 확인
    - 태그 클릭 시 해당 태그의 트윗 목록이 표시되는지 확인

- [ ] 지도 통합
  - 지도 라이브러리 설치 및 설정 (Google Maps / Naver Maps / Mapbox)
  - 트윗 상세 페이지에 지도 표시 (위치가 있는 경우)
  - 지도에 마커 표시 (위치명 포함)
  - 지도 클릭으로 위치 선택 기능
  - **확인 방법**:
    - 지도 라이브러리가 설치되었는지 확인 (`package.json`)
    - 트윗 상세 페이지에 위치 정보가 있을 때 지도가 표시되는지 확인
    - 지도에 마커가 올바르게 표시되는지 확인
    - 마커 클릭 시 위치 정보가 표시되는지 확인
    - 모바일에서도 지도가 올바르게 표시되는지 확인

- [ ] 위치 기반 검색 및 필터링
  - 국가/도시별 트윗 필터링
  - 위치 기반 검색 API 구현
  - 검색 결과에 위치 정보 표시
  - **확인 방법**:
    - 검색 페이지에서 국가/도시 필터가 동작하는지 확인
    - 위치 기반 검색 결과가 올바르게 표시되는지 확인
    - 검색 결과에 위치 정보(국가, 도시, 장소명)가 표시되는지 확인
    - 필터 적용 시 결과가 올바르게 필터링되는지 확인

- [ ] 여행 날짜 기능
  - 트윗 작성 시 여행 날짜 선택 UI
  - 날짜별 트윗 정렬
  - 날짜 필터링 기능
  - **확인 방법**:
    - 트윗 작성 시 여행 날짜 선택 필드가 표시되는지 확인
    - 여행 날짜가 선택되면 트윗에 저장되는지 확인
    - 날짜별로 트윗을 정렬할 수 있는지 확인
    - 날짜 필터로 특정 기간의 트윗만 볼 수 있는지 확인

- [ ] 여행 태그 기반 필터링
  - 태그별 트윗 목록 페이지
  - 태그 클라우드 또는 태그 목록 UI
  - 인기 태그 표시
  - **확인 방법**:
    - 태그 클릭 시 해당 태그의 트윗 목록이 표시되는지 확인
    - 태그 목록 또는 태그 클라우드가 표시되는지 확인
    - 인기 태그가 올바르게 계산되어 표시되는지 확인
    - 태그 페이지 URL이 `/tag/:slug` 형식인지 확인

---

## Phase 9: 프로필 및 사용자 기능

### 목표
사용자 프로필 페이지 및 프로필 편집 기능

### 작업 항목

- [ ] 프로필 페이지
  - 사용자 정보 표시 (이름, 아이디, 소개)
  - 프로필 이미지/배너 이미지
  - 사용자의 트윗 목록
  - 팔로워/팔로잉 수
  - **확인 방법**:
    - 프로필 페이지 URL이 `/user/:username` 또는 `/profile/:id` 형식인지 확인
    - 사용자 이름, 아이디, 소개가 올바르게 표시되는지 확인
    - 프로필 이미지와 배너 이미지가 표시되는지 확인
    - 해당 사용자의 트윗 목록이 표시되는지 확인
    - 팔로워/팔로잉 수가 올바르게 표시되는지 확인
    - 존재하지 않는 사용자 프로필 접근 시 404 에러가 표시되는지 확인

- [ ] 프로필 편집
  - 프로필 편집 페이지
  - 이름, 소개, 프로필 이미지 변경
  - 배너 이미지 변경
  - 프로필 업데이트 action
  - **확인 방법**:
    - 프로필 편집 페이지가 표시되는지 확인 (본인 프로필에서만 접근 가능)
    - 이름, 소개를 수정하고 저장할 수 있는지 확인
    - 프로필 이미지 업로드 및 변경이 가능한지 확인
    - 배너 이미지 업로드 및 변경이 가능한지 확인
    - 프로필 수정 후 변경사항이 즉시 반영되어 표시되는지 확인
    - 프로필 이미지가 Cloudinary에 업로드되었는지 확인
    - 다른 사용자의 프로필 편집 페이지에 접근할 수 없는지 확인

- [ ] 사용자 트윗 필터 (작성 글, 리트윗, 좋아요 목록)
  - 트윗 탭: 사용자가 작성한 트윗 목록
  - 리트윗 탭: 사용자가 리트윗한 트윗 목록
  - 좋아요 탭: 사용자가 좋아요한 트윗 목록 (Phase 5에서 이관됨)
  - 각 탭별 트윗 목록 표시 및 페이지네이션
  - **확인 방법**:
    - 프로필 페이지에 트윗/리트윗/좋아요 탭이 표시되는지 확인
    - 각 탭 클릭 시 해당하는 트윗 목록이 올바르게 필터링되어 표시되는지 확인
    - 트윗 탭에는 본인이 작성한 트윗만 표시되는지 확인
    - 리트윗 탭에는 본인이 리트윗한 트윗만 표시되는지 확인
    - 좋아요 탭에는 본인이 좋아요한 트윗만 표시되는지 확인
    - 탭 전환 시 부드럽게 전환되는지 확인

- [ ] 프로필 공개/비공개 설정 (선택사항)
  - 공개 프로필 설정
  - 비공개 프로필 설정
  - 팔로우 요청 기능
  - **확인 방법**:
    - 프로필 설정에서 공개/비공개 설정이 가능한지 확인
    - 비공개 프로필인 경우 다른 사용자가 트윗을 볼 수 없는지 확인
    - 비공개 프로필에 팔로우 요청을 보낼 수 있는지 확인
    - 팔로우 요청 수락/거부 기능이 동작하는지 확인
    - 비공개 프로필은 팔로우가 승인된 사용자만 트윗을 볼 수 있는지 확인

---

## Phase 10: 검색 기능

### 목표
트윗 및 사용자 검색 기능 구현

### 작업 항목

- [ ] 검색 UI
  - 검색 바 컴포넌트
  - 검색 페이지
  - 검색 결과 탭 (트윗/사용자)
  - **확인 방법**:
    - 검색 바가 헤더 또는 사이드바에 표시되는지 확인
    - 검색어 입력 후 검색 페이지로 이동하는지 확인
    - 검색 결과 페이지에 트윗/사용자 탭이 표시되는지 확인
    - 검색어가 URL 쿼리 파라미터로 전달되는지 확인 (예: `/search?q=검색어`)
    - 검색 바가 모바일에서도 접근 가능한지 확인

- [ ] 트윗 검색
  - 트윗 내용 검색
  - 해시태그 검색
  - 검색 결과 표시
  - **확인 방법**:
    - 검색어로 트윗 내용을 검색할 수 있는지 확인
    - 해시태그(#태그)로 검색할 수 있는지 확인
    - 검색 결과에 일치하는 트윗들이 표시되는지 확인
    - 검색 결과가 관련성 순 또는 시간순으로 정렬되는지 확인
    - 검색 결과가 없을 때 적절한 메시지가 표시되는지 확인
    - 검색 결과에서 트윗 클릭 시 트윗 상세 페이지로 이동하는지 확인

- [ ] 사용자 검색
  - 사용자 이름/아이디 검색
  - 검색 결과 표시
  - **확인 방법**:
    - 검색어로 사용자 이름 또는 아이디를 검색할 수 있는지 확인
    - 검색 결과에 일치하는 사용자들이 표시되는지 확인
    - 검색 결과에서 사용자 프로필로 이동할 수 있는지 확인
    - 검색 결과에서 팔로우/언팔로우가 가능한지 확인
    - 검색 결과가 없을 때 적절한 메시지가 표시되는지 확인

- [ ] 검색 최적화
  - 검색 인덱스 추가 (필요시)
  - 검색 성능 최적화
  - **확인 방법**:
    - 검색 쿼리 실행 시간이 적절한지 확인 (성능 측정)
    - 데이터베이스에 검색 인덱스가 추가되었는지 확인 (필요시)
    - 대량의 데이터에서도 검색이 빠르게 동작하는지 확인
    - 검색 결과 페이지네이션이 올바르게 동작하는지 확인

---

## Phase 10.5: AI 기반 검색 (RAG 시스템) - 선택사항

### 목표
의미 기반 검색을 위한 RAG(Retrieval-Augmented Generation) 시스템 구현
기본 키워드 검색과 병행하여 더 정확하고 컨텍스트를 이해하는 검색 제공

### 사전 요구사항
- Phase 10 (기본 검색 기능) 완료
- 벡터 데이터베이스 선택 (Pinecone, Weaviate, 또는 Turso 벡터 확장)
- 임베딩 모델 선택 (OpenAI API 또는 오픈소스 모델)

### 작업 항목

- [ ] 벡터 데이터베이스 설정
  - 벡터 DB 선택 및 설정 (Pinecone, Weaviate 등)
  - 또는 Turso의 벡터 확장 사용 (가능한 경우)
  - 벡터 DB 연결 설정
  - **확인 방법**:
    - 벡터 DB 연결 테스트가 성공하는지 확인
    - 환경 변수에 벡터 DB API 키가 설정되었는지 확인
    - 벡터 DB 클라이언트 라이브러리가 설치되었는지 확인 (`package.json`)

- [ ] 임베딩 생성 파이프라인
  - 트윗 텍스트 임베딩 생성 함수 구현
  - 사용자 이름/설명 임베딩 생성 함수 구현
  - 배치 임베딩 생성 스크립트 (기존 트윗용)
  - 실시간 임베딩 생성 (새 트윗 작성 시)
  - **확인 방법**:
    - 임베딩 생성 함수가 올바른 벡터를 반환하는지 확인
    - 벡터 차원이 설정한 모델과 일치하는지 확인
    - 임베딩 생성 시간이 적절한지 확인 (성능 측정)
    - 새 트윗 작성 시 임베딩이 자동으로 생성되는지 확인

- [ ] 벡터 저장 및 인덱싱
  - 트윗 임베딩 벡터 DB에 저장
  - 사용자 임베딩 벡터 DB에 저장
  - 벡터 인덱스 생성 (유사도 검색 최적화)
  - 메타데이터 저장 (트윗 ID, 사용자 ID 등)
  - **확인 방법**:
    - 벡터 DB에 임베딩이 저장되었는지 확인
    - 메타데이터가 올바르게 저장되었는지 확인
    - 벡터 검색 쿼리가 올바르게 동작하는지 확인
    - 검색 성능이 적절한지 확인 (응답 시간 측정)

- [ ] 의미 기반 검색 API 구현
  - 검색어 임베딩 생성
  - 벡터 유사도 검색 (cosine similarity)
  - 검색 결과 정렬 (유사도 점수 기준)
  - 하이브리드 검색 (키워드 + 의미 검색 결과 병합)
  - **확인 방법**:
    - 의미 기반 검색 API가 올바른 결과를 반환하는지 확인
    - 검색 결과가 유사도 점수 순으로 정렬되는지 확인
    - 하이브리드 검색에서 키워드 검색과 의미 검색 결과가 병합되는지 확인
    - 검색 API 응답 시간이 적절한지 확인 (1초 이내 권장)
    - 검색 결과의 관련성이 키워드 검색보다 향상되었는지 확인

- [ ] 검색 UI 업데이트
  - 검색 모드 선택 (키워드 검색 / 의미 검색 / 하이브리드)
  - 검색 결과에 유사도 점수 표시 (디버깅용, 선택사항)
  - 검색 결과 개선 피드백 수집
  - **확인 방법**:
    - 검색 페이지에 검색 모드 선택 옵션이 표시되는지 확인
    - 의미 검색 모드 선택 시 의미 기반 검색이 동작하는지 확인
    - 하이브리드 모드에서 키워드와 의미 검색 결과가 모두 표시되는지 확인
    - 검색 결과가 사용자에게 적절하게 표시되는지 확인
    - 모바일에서도 검색 모드 선택이 가능한지 확인

- [ ] 검색 성능 최적화
  - 벡터 검색 쿼리 최적화
  - 캐싱 전략 구현 (인기 검색어 등)
  - 검색 결과 페이지네이션
  - **확인 방법**:
    - 벡터 검색 쿼리 실행 시간이 적절한지 확인 (1초 이내)
    - 캐시가 올바르게 동작하는지 확인
    - 검색 결과 페이지네이션이 의미 검색에서도 동작하는지 확인
    - 대량의 데이터에서도 검색 성능이 유지되는지 확인

- [ ] 비용 및 리소스 관리 (선택사항)
  - 임베딩 생성 비용 모니터링
  - 벡터 DB 스토리지 사용량 모니터링
  - 검색 API 호출 횟수 제한 (rate limiting)
  - **확인 방법**:
    - 임베딩 생성 비용이 예상 범위 내인지 확인
    - 벡터 DB 스토리지 사용량이 적절한지 확인
    - Rate limiting이 올바르게 동작하는지 확인
    - 비용 대비 검색 품질 향상 효과를 측정

### 참고 기술 스택
- **벡터 DB**: Pinecone, Weaviate, 또는 오픈소스 (FAISS, Milvus)
- **임베딩 모델**: OpenAI `text-embedding-3-small`, 또는 오픈소스 (`all-MiniLM-L6-v2`)
- **검색 라이브러리**: LangChain (선택사항)
- **유사도 계산**: Cosine similarity, Euclidean distance

### 주의사항
- RAG 시스템은 기본 검색 기능(Phase 10)의 보완 기능으로 구현
- 비용과 복잡도를 고려하여 선택적으로 구현
- 기본 검색 기능이 정상 동작해야 RAG 시스템 추가 가능
- 프로덕션 배포 전 성능 및 비용 테스트 필요

---

## Phase 11: 고급 기능

### 목표
북마크, 알림, 여행 경로 시각화 등 추가 기능 구현

### 작업 항목

- [ ] 북마크 기능
  - 트윗 북마크 추가/제거
  - 북마크한 트윗 목록 페이지
  - 북마크 버튼 UI
  - **확인 방법**:
    - 트윗 카드에 북마크 버튼이 표시되는지 확인
    - 북마크 버튼 클릭 시 북마크가 추가되는지 확인
    - 이미 북마크한 트윗의 버튼을 다시 클릭 시 북마크가 제거되는지 확인
    - 북마크한 트윗 목록 페이지가 표시되는지 확인
    - 북마크한 트윗이 데이터베이스에 저장되었는지 확인
    - 북마크 버튼이 활성화된 상태로 표시되는지 확인

- [ ] 알림 시스템 (선택사항)
  - 좋아요 알림
  - 댓글 알림
  - 팔로우 알림
  - 알림 목록 페이지
  - **확인 방법**:
    - 좋아요를 받으면 알림이 생성되는지 확인
    - 댓글을 받으면 알림이 생성되는지 확인
    - 팔로우를 받으면 알림이 생성되는지 확인
    - 알림 목록 페이지에 모든 알림이 표시되는지 확인
    - 알림 아이콘에 읽지 않은 알림 개수가 표시되는지 확인
    - 알림 클릭 시 해당 트윗/사용자로 이동하는지 확인
    - 알림 읽음 처리 기능이 동작하는지 확인

- [ ] 트렌딩/인기 기능 (선택사항)
  - 인기 트윗 표시
  - 트렌딩 해시태그

- [ ] 여행 경로 시각화 (여행 블로그 특화)
  - 사용자의 여러 트윗 위치를 지도에 표시
  - 여행 경로 연결선 표시 (시간순)
  - 여행 경로 페이지 (`/travel-route/:userId` 또는 `/travel-route/:travelPlanId`)
  - 경로 재생 기능 (시간순 애니메이션)
  - **확인 방법**:
    - 여행 경로 페이지가 표시되는지 확인
    - 지도에 여러 위치 마커가 표시되는지 확인
    - 위치 간 연결선이 올바르게 표시되는지 확인
    - 경로 재생 시 마커가 시간순으로 이동하는지 확인
    - 모바일에서도 여행 경로가 올바르게 표시되는지 확인

- [ ] 여행 일정 연계 (여행 블로그 특화)
  - 기존 `TravelPlan` 테이블과 Tweet 연결
  - 여행 계획별 트윗 그룹핑
  - 여행 일정 페이지에서 관련 트윗 표시
  - 트윗 작성 시 여행 계획 선택 기능
  - **확인 방법**:
    - 트윗 작성 시 여행 계획 선택 옵션이 표시되는지 확인
    - 여행 계획 선택 시 해당 계획과 연결되는지 확인
    - 여행 일정 페이지에 관련 트윗들이 표시되는지 확인
    - 하나의 여행 계획에 여러 트윗이 연결되는지 확인

- [ ] 위치 기반 피드 (여행 블로그 특화)
  - 특정 국가/도시의 트윗만 보기
  - 지도 기반 위치 선택으로 피드 필터링
  - 내 주변 트윗 보기 (GPS 기반)
  - **확인 방법**:
    - 피드 페이지에서 국가/도시 필터가 동작하는지 확인
    - 지도에서 영역 선택 시 해당 지역의 트윗만 표시되는지 확인
    - GPS 허용 시 내 주변 트윗이 표시되는지 확인
    - 필터 적용 시 피드가 올바르게 업데이트되는지 확인

- [ ] 여행 통계 (여행 블로그 특화, 선택사항)
  - 사용자별 여행 통계 (방문 국가 수, 도시 수, 총 여행 일수)
  - 방문 국가 목록 및 지도 표시
  - 연도별/월별 여행 기록
  - **확인 방법**:
    - 프로필 페이지에 여행 통계가 표시되는지 확인
    - 방문 국가 목록이 올바르게 표시되는지 확인
    - 지도에 방문 국가가 표시되는지 확인
    - 연도별/월별 여행 기록이 올바르게 계산되는지 확인
  - **확인 방법**:
    - 인기 트윗 목록이 표시되는지 확인 (좋아요/리트윗 수 기준 등)
    - 트렌딩 해시태그 목록이 표시되는지 확인
    - 트렌딩 해시태그 클릭 시 해당 해시태그의 트윗 목록이 표시되는지 확인
    - 인기 트윗 알고리즘이 올바르게 동작하는지 확인
    - 트렌딩 데이터가 주기적으로 업데이트되는지 확인

---

## Phase 12: 모바일 앱 배포 (Capacitor)

### 목표
Capacitor를 사용하여 네이티브 모바일 앱 빌드 및 배포

### 작업 항목

- [ ] Capacitor 설치 및 설정
  - `npm install @capacitor/core @capacitor/cli`
  - `npm install @capacitor/ios @capacitor/android`
  - `npx cap init` 실행
  - **확인 방법**:
    - `package.json`에 Capacitor 패키지들이 추가되었는지 확인
    - `capacitor.config.ts` 파일이 생성되었는지 확인
    - Capacitor CLI가 설치되었는지 확인 (`npx cap --version`)
    - TypeScript 컴파일 오류가 없는지 확인

- [ ] React Router v7 SPA 모드 설정 (중요)
  - `react-router.config.ts`에서 `ssr: false` 설정 (또는 모바일 빌드용 별도 config 분리)
  - Capacitor는 로컬 파일 시스템에서 실행되므로 SSR 불가능함
  - 브라우저는 SSR, 모바일 앱은 CSR(SPA)로 동작하도록 빌드 파이프라인 구성
  - **확인 방법**:
    - SPA 모드로 빌드된 `index.html`이 `build/client`에 주입되는지 확인
    - 앱 실행 시 서버 연결 없이도 초기 화면이 렌더링되는지 확인
    - 모바일 앱 빌드용 스크립트(`npm run build:mobile`) 분리 여부 확인

- [ ] Capacitor 설정
  - `capacitor.config.ts` 설정
  - 앱 아이콘 및 스플래시 화면 설정
  - 권한 설정 (카메라, 갤러리 등)
  - **확인 방법**:
    - `capacitor.config.ts`에 앱 이름, 번들 ID 등이 올바르게 설정되었는지 확인
    - 앱 아이콘이 설정되었는지 확인 (`ios/App/App/Assets.xcassets/AppIcon.appiconset`, `android/app/src/main/res`)
    - 스플래시 화면이 설정되었는지 확인
    - `AndroidManifest.xml`과 `Info.plist`에 필요한 권한이 추가되었는지 확인
    - 권한 요청이 올바르게 동작하는지 확인 (실제 기기에서 테스트)

- [ ] iOS 앱 설정
  - Xcode 프로젝트 생성
  - iOS 빌드 및 테스트
  - App Store 배포 준비
  - **확인 방법**:
    - `npx cap add ios` 실행 후 `ios/` 디렉토리가 생성되었는지 확인
    - Xcode에서 프로젝트가 열리고 빌드가 가능한지 확인
    - 시뮬레이터 또는 실제 iOS 기기에서 앱이 실행되는지 확인
    - 앱 기능이 올바르게 동작하는지 확인 (네비게이션, 인증 등)
    - App Store Connect에 앱 정보가 준비되었는지 확인 (선택사항)

- [ ] Android 앱 설정
  - Android Studio 프로젝트 생성
  - Android 빌드 및 테스트
  - Play Store 배포 준비
  - **확인 방법**:
    - `npx cap add android` 실행 후 `android/` 디렉토리가 생성되었는지 확인
    - Android Studio에서 프로젝트가 열리고 빌드가 가능한지 확인
    - 에뮬레이터 또는 실제 Android 기기에서 앱이 실행되는지 확인
    - 앱 기능이 올바르게 동작하는지 확인 (네비게이션, 인증 등)
    - Google Play Console에 앱 정보가 준비되었는지 확인 (선택사항)

- [ ] PWA 지원
  - Manifest 파일 설정
  - Service Worker 설정
  - 오프라인 지원 (선택사항)
  - **확인 방법**:
    - `public/manifest.json` 파일이 생성되고 올바르게 설정되었는지 확인
    - HTML에 manifest 링크가 추가되었는지 확인
    - Service Worker가 등록되고 동작하는지 확인 (브라우저 개발자 도구)
    - 모바일에서 "홈 화면에 추가" 옵션이 표시되는지 확인
    - PWA가 설치 가능한지 확인 (브라우저 주소창의 설치 아이콘)
    - 오프라인 지원이 구현된 경우 오프라인에서도 동작하는지 확인

## Phase 13: 테스트 및 최적화

### 목표
테스트 작성 및 성능 최적화

### 작업 항목

- [ ] 테스트 설정
  - 테스트 프레임워크 설정 (Vitest 등)
  - 테스트 스크립트 추가
  - **확인 방법**:
    - `package.json`에 테스트 프레임워크가 추가되었는지 확인
    - `package.json`에 `test` 스크립트가 추가되었는지 확인
    - 테스트 설정 파일이 생성되었는지 확인 (`vitest.config.ts` 등)
    - `npm test` 명령어가 실행되는지 확인
    - 샘플 테스트가 통과하는지 확인

- [ ] 단위 테스트
  - 유틸리티 함수 테스트
  - 컴포넌트 테스트
  - **확인 방법**:
    - 주요 유틸리티 함수에 대한 테스트 파일이 작성되었는지 확인
    - 주요 컴포넌트에 대한 테스트 파일이 작성되었는지 확인
    - `npm test` 실행 시 모든 단위 테스트가 통과하는지 확인
    - 테스트 커버리지 리포트가 생성되는지 확인 (선택사항)
    - 새로운 코드 작성 시 테스트가 함께 작성되었는지 확인

- [ ] 통합 테스트
  - API 엔드포인트 테스트
  - 인증 플로우 테스트
  - **확인 방법**:
    - 주요 API 엔드포인트(loader, action)에 대한 통합 테스트가 작성되었는지 확인
    - 로그인/회원가입/로그아웃 플로우가 테스트되는지 확인
    - `npm test` 실행 시 모든 통합 테스트가 통과하는지 확인
    - 테스트 데이터베이스 또는 모킹이 올바르게 설정되었는지 확인
    - 인증이 필요한 엔드포인트 테스트에서 인증 처리가 올바른지 확인

- [ ] 성능 최적화
  - 이미지 최적화
  - 데이터베이스 쿼리 최적화
  - 코드 스플리팅
  - 로딩 성능 개선
  - 모바일 성능 최적화
  - **확인 방법**:
    - 이미지가 적절한 크기와 포맷으로 최적화되었는지 확인 (Lighthouse)
    - 데이터베이스 쿼리 실행 시간이 적절한지 확인 (느린 쿼리 로그 확인)
    - 번들 크기가 적절한지 확인 (빌드 리포트)
    - 초기 로딩 시간이 3초 이내인지 확인 (Lighthouse Performance 점수)
    - 모바일 기기에서 성능이 양호한지 확인 (실제 기기 테스트)
    - 코드 스플리팅이 적용되어 지연 로딩이 동작하는지 확인

- [ ] 접근성 개선
  - 키보드 네비게이션
  - 스크린 리더 지원
  - ARIA 레이블 추가
  - 모바일 접근성 최적화
  - **확인 방법**:
    - 키보드만으로 모든 기능에 접근할 수 있는지 확인 (Tab, Enter, Space 등)
    - 스크린 리더(VoiceOver, TalkBack)로 앱을 사용할 수 있는지 확인
    - 주요 인터랙티브 요소에 ARIA 레이블이 추가되었는지 확인
    - 색상 대비가 WCAG AA 기준을 만족하는지 확인 (Lighthouse Accessibility)
    - 포커스 표시가 명확한지 확인
    - 모바일에서 터치 타겟 크기가 최소 44px × 44px인지 확인

- [ ] 문서화
  - API 문서화
  - 컴포넌트 문서화
  - 배포 가이드 작성
  - 모바일 앱 빌드 가이드
  - **확인 방법**:
    - 주요 API 엔드포인트가 문서화되었는지 확인 (README 또는 별도 문서)
    - 주요 컴포넌트의 사용법이 문서화되었는지 확인
    - 배포 가이드가 작성되고 따라할 수 있는지 확인
    - 모바일 앱 빌드 가이드가 작성되고 따라할 수 있는지 확인
    - 환경 변수 목록과 설정 방법이 문서화되었는지 확인

---

## 개발 우선순위 및 의존성

1. **필수 기능** (Phase 1-4): 프로젝트의 기본 기능
2. **핵심 소셜 기능** (Phase 5-6): 트위터의 핵심 기능
3. **상호작용 기능** (Phase 7-8): 사용자 경험 향상
4. **개인화 기능** (Phase 9-10): 사용자 중심 기능
5. **고급 기능** (Phase 11): 추가 기능
6. **품질 보증** (Phase 12): 테스트 및 최적화

---

## 작업 프로세스

각 작업 항목은 다음 순서로 진행합니다:

1. **작업 수행**: 작업 항목 하나를 완료합니다.
2. **확인**: 작업 항목의 "확인 방법"을 따라 완료 여부를 확인합니다.
   - AI가 작업을 완료한 후, 사용자가 확인 방법을 따라 직접 확인합니다.
   - 모든 확인 항목이 통과되면 확인 완료로 간주합니다.
3. **커밋**: 사용자가 확인 완료 후 Git 커밋을 진행합니다.
   - 사용자가 확인이 완료되었다고 알려주면, AI가 Git 커밋을 진행합니다.
4. **다음 작업**: 다음 작업 항목으로 진행합니다.

> **참고**: 
> - 각 작업 항목(예: "Auth.js 설치 및 설정")은 하나의 독립적인 작업 단위입니다. 하위 항목들은 해당 작업을 완료하기 위한 단계입니다.
> - 작업 완료 후 반드시 사용자의 확인을 거쳐야 하며, 확인이 완료된 후에만 Git 커밋을 진행합니다.

## 참고사항

- 각 Phase는 독립적으로 작업 가능하지만, 순서대로 진행하는 것을 권장합니다.
- 각 작업 항목 완료 후 확인 및 Git 커밋을 진행합니다.
- AGENTS.md의 코딩 컨벤션을 준수합니다.
- DATABASE_SCHEMA.md를 참고하여 데이터베이스 스키마를 관리합니다.

