# Implementation Plan

STAYnC 트위터/X 클론 프로젝트의 단계별 구현 계획입니다.

## 진행 상태

- [x] Phase 0: 프로젝트 초기 설정
- [ ] Phase 1: 데이터베이스 및 인프라 설정
- [ ] Phase 2: 인증 시스템 구현
- [ ] Phase 3: 기본 레이아웃 및 UI 구성
- [ ] Phase 4: 트윗 기능 (CRUD)
- [ ] Phase 5: 소셜 기능 (좋아요, 리트윗)
- [ ] Phase 6: 팔로우 시스템 및 피드
- [ ] Phase 7: 댓글/답글 시스템
- [ ] Phase 8: 미디어 업로드 (이미지/동영상)
- [ ] Phase 9: 프로필 및 사용자 기능
- [ ] Phase 10: 검색 기능
- [ ] Phase 11: 고급 기능 (북마크, 알림 등)
- [ ] Phase 12: 모바일 앱 배포 (Capacitor)
- [ ] Phase 13: 테스트 및 최적화

---

## Phase 0: 프로젝트 초기 설정 ✅

### 완료된 작업

- [x] React Router v7 프로젝트 생성
- [x] Tailwind CSS v4 설정
- [x] shadcn/ui (Nova Preset) 설정
- [x] TypeScript 설정
- [x] 프로젝트 문서화 (AGENTS.md, DATABASE_SCHEMA.md)

### 추가 설정 필요

- [ ] Capacitor 설치 및 설정 (모바일 앱 배포용)

---

## Phase 1: 데이터베이스 및 인프라 설정

### 목표
Prisma ORM 설정 및 데이터베이스 스키마 정의

### 작업 항목

- [ ] Prisma 설치 및 초기 설정
  - `npm install prisma @prisma/client`
  - `npx prisma init`
  - `prisma/schema.prisma` 설정 (libSQL provider)

- [ ] 기존 데이터베이스 스키마 반영
  - `User`, `account`, `session`, `verification` 모델 정의
  - 기존 테이블 구조에 맞춰 Prisma 모델 작성

- [ ] 트위터 클론 필수 테이블 추가
  - `Tweet` 모델 및 마이그레이션
  - `Like` 모델 및 마이그레이션
  - `Retweet` 모델 및 마이그레이션
  - `Follow` 모델 및 마이그레이션
  - `Reply` 모델 및 마이그레이션
  - `Bookmark` 모델 (선택사항)

- [ ] Prisma Client 생성 및 테스트
  - `npx prisma generate`
  - 데이터베이스 연결 확인

- [ ] 환경 변수 설정
  - `.env` 파일에 `DATABASE_URL` 확인
  - Prisma 관련 환경 변수 설정

---

## Phase 2: 인증 시스템 구현

### 목표
Auth.js를 사용한 세션 기반 인증 시스템 구현

### 작업 항목

- [ ] Auth.js 설치 및 설정
  - `npm install @auth/core @auth/prisma-adapter`
  - Auth.js 설정 파일 생성
  - Prisma 어댑터 연결

- [ ] 로그인 페이지 구현
  - 로그인 폼 UI (이메일, 비밀번호)
  - Zod 스키마로 입력 검증
  - 로그인 action 구현

- [ ] 회원가입 페이지 구현
  - 회원가입 폼 UI (이메일, 비밀번호, 이름)
  - Zod 스키마로 입력 검증
  - 회원가입 action 구현 (비밀번호 해싱)

- [ ] 세션 관리
  - 세션 상태 확인 유틸리티
  - 보호된 라우트 구현
  - 로그아웃 기능

- [ ] OAuth 제공자 설정
  - Google OAuth 설정 및 구현
    - 리다이렉트 URL: `http://localhost:5173/auth/google/callback`
  - Kakao OAuth 설정 및 구현
    - 리다이렉트 URL: `http://localhost:5173/auth/kakao/callback`
  - OAuth 로그인 버튼 UI (Google, Kakao)
  - OAuth 콜백 처리

---

## Phase 3: 기본 레이아웃 및 UI 구성

### 목표
트위터 스타일의 기본 레이아웃 및 네비게이션 구성

### 작업 항목

- [ ] 메인 레이아웃 컴포넌트
  - 사이드바 네비게이션
  - 헤더/상단바
  - 메인 콘텐츠 영역
  - 반응형 디자인

- [ ] 네비게이션 메뉴
  - 홈, 탐색, 알림, 메시지, 프로필 등 메뉴 아이템
  - 활성 상태 표시
  - 아이콘 통합 (Hugeicons)

- [ ] 트윗 작성 컴포넌트 (기본 UI만)
  - 텍스트 입력 영역
  - 이미지 첨부 버튼 (Phase 8에서 기능 구현)
  - 게시 버튼 (Phase 4에서 기능 구현)

- [ ] 트윗 카드 컴포넌트 (기본 UI만)
  - 사용자 아바타, 이름, 아이디
  - 트윗 내용
  - 좋아요, 리트윗, 댓글 버튼 (기능은 이후 단계에서)

- [ ] 로딩 상태 및 에러 처리
  - 로딩 스피너
  - 에러 메시지 표시
  - 빈 상태 컴포넌트

---

## Phase 4: 트윗 기능 (CRUD)

### 목표
트윗의 생성, 조회, 수정, 삭제 기능 구현

### 작업 항목

- [ ] 트윗 작성 기능
  - 트윗 작성 action 구현
  - Zod 스키마로 내용 검증
  - 데이터베이스에 저장
  - 성공 후 피드 새로고침

- [ ] 트윗 목록 조회
  - 홈 피드 구현 (loader)
  - 모든 사용자의 트윗 시간순 정렬
  - 페이지네이션 (무한 스크롤 또는 페이지 번호)

- [ ] 트윗 상세 페이지
  - 트윗 ID로 단일 트윗 조회
  - 트윗 상세 페이지 라우트
  - 댓글 목록 표시 (Phase 7에서 구현)

- [ ] 트윗 수정 기능
  - 작성자만 수정 가능
  - 수정 폼 모달/페이지
  - 트윗 수정 action

- [ ] 트윗 삭제 기능
  - 작성자만 삭제 가능
  - 삭제 확인 다이얼로그
  - 트윗 삭제 action (CASCADE 처리)

- [ ] 트윗 시간 표시
  - Luxon을 사용한 상대 시간 표시 (예: "2분 전", "1시간 전")

---

## Phase 5: 소셜 기능 (좋아요, 리트윗)

### 목표
트윗에 대한 좋아요 및 리트윗 기능 구현

### 작업 항목

- [ ] 좋아요 기능
  - 좋아요 버튼 UI (하트 아이콘)
  - 좋아요 추가/제거 action
  - 좋아요 개수 표시
  - 사용자의 좋아요 상태 표시

- [ ] 리트윗 기능
  - 리트윗 버튼 UI
  - 리트윗 추가/제거 action
  - 리트윗 개수 표시
  - 피드에 리트윗 표시

- [ ] 좋아요한 트윗 페이지
  - 사용자가 좋아요한 트윗 목록
  - 프로필 페이지에 통합 또는 별도 페이지

- [ ] 리트윗한 트윗 표시
  - 리트윗 정보와 함께 원본 트윗 표시
  - "A가 리트윗했습니다" 표시

---

## Phase 6: 팔로우 시스템 및 피드

### 목표
사용자 간 팔로우 기능 및 개인화된 피드 구현

### 작업 항목

- [ ] 팔로우 기능
  - 팔로우/언팔로우 버튼
  - 팔로우 action 구현
  - 팔로워/팔로잉 수 표시

- [ ] 팔로잉 피드
  - 팔로우한 사용자의 트윗만 표시
  - 홈 피드를 팔로잉 피드로 변경 또는 탭 추가

- [ ] 사용자 검색 (기본)
  - 사용자 이름/이메일로 검색
  - 검색 결과 표시
  - 검색 결과에서 팔로우 버튼

- [ ] 팔로워/팔로잉 목록
  - 프로필 페이지에 팔로워/팔로잉 목록
  - 각 사용자 프로필 링크

---

## Phase 7: 댓글/답글 시스템

### 목표
트윗에 대한 댓글 및 대댓글 기능 구현

### 작업 항목

- [ ] 댓글 작성
  - 트윗 상세 페이지에 댓글 작성 폼
  - 댓글 작성 action
  - 댓글 즉시 표시

- [ ] 댓글 목록
  - 트윗별 댓글 조회
  - 댓글 시간순 정렬
  - 댓글 카운트 표시

- [ ] 대댓글 기능
  - 댓글에 답글 달기
  - 대댓글 트리 구조 표시
  - 대댓글 작성 action

- [ ] 댓글 수정/삭제
  - 작성자만 수정/삭제 가능
  - 댓글 수정 action
  - 댓글 삭제 action

---

## Phase 8: 미디어 업로드 (이미지/동영상)

### 목표
Cloudinary를 사용한 이미지/동영상 업로드 기능

### 작업 항목

- [ ] Cloudinary 설정
  - Cloudinary SDK 설치
  - 환경 변수 설정 (CLOUDINARY_URL)
  - 업로드 유틸리티 함수

- [ ] 이미지 업로드
  - 트윗 작성 시 이미지 첨부
  - 이미지 미리보기
  - 여러 이미지 업로드 지원
  - 업로드 진행 상태 표시

- [ ] 동영상 업로드
  - 트윗 작성 시 동영상 첨부
  - 동영상 미리보기
  - 업로드 진행 상태 표시

- [ ] 미디어 표시
  - 트윗에 이미지/동영상 표시
  - 이미지 갤러리 뷰
  - 동영상 플레이어

- [ ] 미디어 삭제
  - 트윗 삭제 시 Cloudinary에서도 삭제
  - 트윗 수정 시 미디어 관리

---

## Phase 9: 프로필 및 사용자 기능

### 목표
사용자 프로필 페이지 및 프로필 편집 기능

### 작업 항목

- [ ] 프로필 페이지
  - 사용자 정보 표시 (이름, 아이디, 소개)
  - 프로필 이미지/배너 이미지
  - 사용자의 트윗 목록
  - 팔로워/팔로잉 수

- [ ] 프로필 편집
  - 프로필 편집 페이지
  - 이름, 소개, 프로필 이미지 변경
  - 배너 이미지 변경
  - 프로필 업데이트 action

- [ ] 사용자 트윗 필터
  - 트윗/리트윗/좋아요한 트윗 탭
  - 각 탭별 트윗 목록 표시

- [ ] 프로필 공개/비공개 설정 (선택사항)
  - 공개 프로필 설정
  - 비공개 프로필 설정
  - 팔로우 요청 기능

---

## Phase 10: 검색 기능

### 목표
트윗 및 사용자 검색 기능 구현

### 작업 항목

- [ ] 검색 UI
  - 검색 바 컴포넌트
  - 검색 페이지
  - 검색 결과 탭 (트윗/사용자)

- [ ] 트윗 검색
  - 트윗 내용 검색
  - 해시태그 검색
  - 검색 결과 표시

- [ ] 사용자 검색
  - 사용자 이름/아이디 검색
  - 검색 결과 표시

- [ ] 검색 최적화
  - 검색 인덱스 추가 (필요시)
  - 검색 성능 최적화

---

## Phase 11: 고급 기능

### 목표
북마크, 알림 등 추가 기능 구현

### 작업 항목

- [ ] 북마크 기능
  - 트윗 북마크 추가/제거
  - 북마크한 트윗 목록 페이지
  - 북마크 버튼 UI

- [ ] 알림 시스템 (선택사항)
  - 좋아요 알림
  - 댓글 알림
  - 팔로우 알림
  - 알림 목록 페이지

- [ ] 트렌딩/인기 기능 (선택사항)
  - 인기 트윗 표시
  - 트렌딩 해시태그

---

## Phase 12: 모바일 앱 배포 (Capacitor)

### 목표
Capacitor를 사용하여 네이티브 모바일 앱 빌드 및 배포

### 작업 항목

- [ ] Capacitor 설치 및 설정
  - `npm install @capacitor/core @capacitor/cli`
  - `npm install @capacitor/ios @capacitor/android`
  - `npx cap init` 실행

- [ ] React Router v7 SPA 모드 설정
  - 모바일 앱용 SPA 모드 활성화 (필요시)
  - 빌드 설정 최적화

- [ ] Capacitor 설정
  - `capacitor.config.ts` 설정
  - 앱 아이콘 및 스플래시 화면 설정
  - 권한 설정 (카메라, 갤러리 등)

- [ ] iOS 앱 설정
  - Xcode 프로젝트 생성
  - iOS 빌드 및 테스트
  - App Store 배포 준비

- [ ] Android 앱 설정
  - Android Studio 프로젝트 생성
  - Android 빌드 및 테스트
  - Play Store 배포 준비

- [ ] PWA 지원
  - Manifest 파일 설정
  - Service Worker 설정
  - 오프라인 지원 (선택사항)

## Phase 13: 테스트 및 최적화

### 목표
테스트 작성 및 성능 최적화

### 작업 항목

- [ ] 테스트 설정
  - 테스트 프레임워크 설정 (Vitest 등)
  - 테스트 스크립트 추가

- [ ] 단위 테스트
  - 유틸리티 함수 테스트
  - 컴포넌트 테스트

- [ ] 통합 테스트
  - API 엔드포인트 테스트
  - 인증 플로우 테스트

- [ ] 성능 최적화
  - 이미지 최적화
  - 데이터베이스 쿼리 최적화
  - 코드 스플리팅
  - 로딩 성능 개선
  - 모바일 성능 최적화

- [ ] 접근성 개선
  - 키보드 네비게이션
  - 스크린 리더 지원
  - ARIA 레이블 추가
  - 모바일 접근성 최적화

- [ ] 문서화
  - API 문서화
  - 컴포넌트 문서화
  - 배포 가이드 작성
  - 모바일 앱 빌드 가이드

---

## 개발 우선순위 및 의존성

1. **필수 기능** (Phase 1-4): 프로젝트의 기본 기능
2. **핵심 소셜 기능** (Phase 5-6): 트위터의 핵심 기능
3. **상호작용 기능** (Phase 7-8): 사용자 경험 향상
4. **개인화 기능** (Phase 9-10): 사용자 중심 기능
5. **고급 기능** (Phase 11): 추가 기능
6. **품질 보증** (Phase 12): 테스트 및 최적화

---

## 참고사항

- 각 Phase는 독립적으로 작업 가능하지만, 순서대로 진행하는 것을 권장합니다.
- 각 Phase 완료 후 Git 커밋을 권장합니다.
- AGENTS.md의 코딩 컨벤션을 준수합니다.
- DATABASE_SCHEMA.md를 참고하여 데이터베이스 스키마를 관리합니다.

